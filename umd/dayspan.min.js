!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment")):"function"==typeof define&&define.amd?define("ds",["moment"],e):"object"==typeof exports?exports.ds=e(require("moment")):t.ds=e(t.moment)}(this,function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(e,n){e.exports=t},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";function i(t,e,n){if(void 0===n&&(n=!1),isFinite(t))switch(n&&(t=Math.abs(t)),e){case r.NONE:return t;case r.FLOOR:return Math.floor(t);case r.CEIL:return Math.ceil(t);case r.ROUND:return Math.round(t);case r.TRUNCATE:case r.DOWN:return t<0?Math.ceil(t):Math.floor(t);case r.UP:return t<0?Math.floor(t):Math.ceil(t)}return t}Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(){}return t.isArray=function(t){return t instanceof Array},t.isArrayEquals=function(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},t.isString=function(t){return"string"==typeof t},t.isNumber=function(t){return isFinite(t)&&"number"==typeof t},t.isObject=function(t){return null!==t&&!this.isArray(t)&&"object"==typeof t},t.isDefined=function(t){return void 0!==t},t.isValue=function(t){return null!==t&&void 0!==t},t.isFrequencyValueEvery=function(t){return this.isObject(t)&&this.isNumber(t.every)},t.isFrequencyValueOneOf=function(t){return this.isArray(t)&&t.length>0},t.coalesce=function(t,e,n){return this.isDefined(t)?t:this.isDefined(e)?e:n},t.extend=function(t,e){for(var n in e)t[n]=e[n];return t},t.pad=function(t,e,n,i){for(;t.length<e;)i?t=n+t:t+=n;return t},t.padNumber=function(t,e,n){return void 0===n&&(n=e),this.pad(t+"",e,"0",!0).substring(0,n)},t}();!function(t){t[t.NONE=0]="NONE",t[t.FLOOR=1]="FLOOR",t[t.CEIL=2]="CEIL",t[t.ROUND=3]="ROUND",t[t.TRUNCATE=4]="TRUNCATE",t[t.UP=5]="UP",t[t.DOWN=6]="DOWN"}(r=r||(r={}));var s;!function(t){t[t.DAY=0]="DAY",t[t.WEEK=1]="WEEK",t[t.MONTH=2]="MONTH",t[t.YEAR=3]="YEAR"}(s=s||(s={}));var u,a=function(){function t(){}return t.MILLIS_IN_SECOND=1e3,t.MILLIS_IN_MINUTE=60*t.MILLIS_IN_SECOND,t.MILLIS_IN_HOUR=60*t.MILLIS_IN_MINUTE,t.MILLIS_IN_DAY=24*t.MILLIS_IN_HOUR,t.MILLIS_IN_WEEK=7*t.MILLIS_IN_DAY,t.MINUTES_IN_HOUR=60,t.MINUTES_IN_DAY=1440,t.DAYS_IN_WEEK=7,t.MONTHS_IN_YEAR=12,t.HOURS_IN_DAY=24,t.MONTH_MIN=0,t.MONTH_MAX=11,t.DAY_MIN=1,t.DAY_MAX=31,t.HOUR_MIN=0,t.HOUR_MAX=23,t.MINUTE_MIN=0,t.MINUTE_MAX=59,t.SECOND_MIN=0,t.SECOND_MAX=59,t.MILLIS_MIN=0,t.MILLIS_MAX=999,t.WEEKDAY_MIN=0,t.WEEKDAY_MAX=6,t.DURATION_DEFAULT=1,t.DURATION_DEFAULT_UNIT_ALL="days",t.DURATION_DEFAULT_UNIT_TIMES="hours",t.DURATION_DEFAULT_UNIT=function(e){return e?t.DURATION_DEFAULT_UNIT_ALL:t.DURATION_DEFAULT_UNIT_TIMES},t.DURATION_TO_MILLIS={minute:t.MILLIS_IN_MINUTE,minutes:t.MILLIS_IN_MINUTE,hour:t.MILLIS_IN_HOUR,hours:t.MILLIS_IN_HOUR,day:t.MILLIS_IN_DAY,days:t.MILLIS_IN_DAY,week:t.MILLIS_IN_WEEK,weeks:t.MILLIS_IN_WEEK,month:t.MILLIS_IN_DAY*t.DAY_MAX,months:t.MILLIS_IN_DAY*t.DAY_MAX},t.MAX_EVENTS_PER_DAY=24,t.WEEK_OF_MONTH_MINIMUM_WEEKDAY=4,t}(),h=function(){function t(t,e){this.start=t,this.end=e}return Object.defineProperty(t.prototype,"isPoint",{get:function(){return this.start.time===this.end.time},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){return t.time>=this.start.time&&t.time<=this.end.time},t.prototype.compareTo=function(t){return t.time<this.start.time?-1:t.time>this.end.time?1:0},t.prototype.matchesDay=function(t){return this.contains(t)||t.sameDay(this.start)||t.sameDay(this.end)},t.prototype.matchesWeek=function(t){return this.contains(t)||t.sameWeek(this.start)||t.sameWeek(this.end)},t.prototype.matchesMonth=function(t){return this.contains(t)||t.sameMonth(this.start)||t.sameMonth(this.end)},t.prototype.matchesYear=function(t){return this.contains(t)||t.sameYear(this.start)||t.sameYear(this.end)},t.prototype.millis=function(t,e){return void 0===t&&(t=r.DOWN),void 0===e&&(e=!0),this.start.millisBetween(this.end,t,e)},t.prototype.seconds=function(t,e){return void 0===t&&(t=r.DOWN),void 0===e&&(e=!0),this.start.secondsBetween(this.end,t,e)},t.prototype.minutes=function(t,e){return void 0===t&&(t=r.DOWN),void 0===e&&(e=!0),this.start.minutesBetween(this.end,t,e)},t.prototype.hours=function(t,e){return void 0===t&&(t=r.DOWN),void 0===e&&(e=!0),this.start.hoursBetween(this.end,t,e)},t.prototype.days=function(t,e){return void 0===t&&(t=r.DOWN),void 0===e&&(e=!0),this.start.daysBetween(this.end,t,e)},t.prototype.weeks=function(t,e){return void 0===t&&(t=r.DOWN),void 0===e&&(e=!0),this.start.weeksBetween(this.end,t,e)},t.prototype.months=function(t,e){return void 0===t&&(t=r.DOWN),void 0===e&&(e=!0),this.start.monthsBetween(this.end,t,e)},t.prototype.years=function(t,e){return void 0===t&&(t=r.DOWN),void 0===e&&(e=!0),this.start.yearsBetween(this.end,t,e)},t.prototype.startDelta=function(t){return(this.start.time-t.time)/a.MILLIS_IN_DAY},t.prototype.endDelta=function(t){return(this.end.time-t.time)/a.MILLIS_IN_DAY},t.prototype.getBounds=function(t,e,n,i,r,o,s){void 0===e&&(e=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===r&&(r=!0),void 0===o&&(o=0),void 0===s&&(s=0);var u=this.startDelta(t),a=this.endDelta(t),h=r?Math.max(0,u):u,f=r?Math.min(1,a):a,c=i,p=n-c,d=h*e,l=f*e;return{top:d+s,bottom:l+s,height:l-d,left:c+o,right:p+o,width:p}},t.prototype.summary=function(e,n,i,r,o,s){void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o=!0),void 0===s&&(s=" - ");var u=t.SUMMARY_FORMATS[e],a=A.today(),h=!o||!this.start.sameYear(a),f=!o||!this.end.sameYear(a),c=this.start.format(u(i,n,h)),p=this.end.format(u(i,n,f)),d=c;return c!==p?(r||(d=this.start.format(u(i,n,!this.start.sameYear(this.end)))),d+=s,d+=p):d=c,d},t.prototype.intersects=function(t){return!(this.end.time<t.start.time||this.start.time>t.end.time)},t.prototype.intersection=function(e){var n=this.start.max(e.start),i=this.end.min(e.end);return n.isAfter(i)?null:new t(n,i)},t.prototype.union=function(e){return new t(this.start.min(e.start),this.end.max(e.end))},t.point=function(e){return new t(e,e)},t.SUMMARY_FORMATS=(u={},u[s.DAY]=function(t,e,n){return(e?t?"ddd, ":"dddd, ":"")+(t?"MMM ":"MMMM ")+"Do"+(n?" YYYY":"")},u[s.WEEK]=function(t,e,n){return(e?t?"ddd, ":"dddd, ":"")+(t?"MMM ":"MMMM ")+"Do"+(n?" YYYY":"")},u[s.MONTH]=function(t,e,n){return(t?"MMM":"MMMM")+(n?" YYYY":"")},u[s.YEAR]=function(t,e,n){return n?"YYYY":""},u),t}(),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(){function t(){}return t.prototype.is=function(t){return(t+"").length===this.getLength()},t.prototype.compute=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this.getScales(),i=0,r=0;r<t.length;r++)i+=t[r]*n[r];return this.is(i)?i:o.padNumber(i,this.getLength())},t.prototype.decompute=function(t){for(var e=this.getScales(),n=o.isNumber(t)?t:parseInt(t),i=[],r=0;r<e.length-1;r++){var s=e[r+0],u=e[r+1],a=u/s,h=n%a;i.push(h),n=Math.floor(n/a)}return i.push(n),i},t.find=function(t){return this.Time.is(t)?this.Time:this.Day.is(t)?this.Day:this.Week.is(t)?this.Week:this.Month.is(t)?this.Month:this.Year.is(t)?this.Year:null},t.contains=function(t,e){var n=t+"";return(e+"").substring(0,n.length)===n},t.Time=null,t.Day=null,t.Week=null,t.Month=null,t.Quarter=null,t.Year=null,t}(),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.getScales=function(){return e.SCALES},e.prototype.getLength=function(){return e.LENGTH},e.prototype.get=function(t){return this.compute(t.minute,t.hour,t.dayOfMonth,t.month+1,t.year)},e.prototype.object=function(t){var e=this.decompute(t);return{minute:e[0],hour:e[1],day:e[2],month:e[3]-1,year:e[4]}},e.prototype.start=function(t){var e=this.object(t);return A.build(e.year,e.month,e.day,e.hour,e.minute)},e.prototype.span=function(t,e){void 0===e&&(e=!1);var n=this.start(t),i=n.endOfHour(e);return new h(n,i)},e.prototype.describe=function(t,n){void 0===n&&(n=!1);var i=this.start(t),r=n?e.DESCRIBE_FORMAT_SHORT:e.DESCRIBE_FORMAT_LONG;return i.format(r)},e.prototype.matches=function(t,e){return t.timeIdentifier===e},e.DESCRIBE_FORMAT_LONG="LLL",e.DESCRIBE_FORMAT_SHORT="lll",e.SCALES=[1,100,1e4,1e6,1e8],e.LENGTH=12,e}(c),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.getScales=function(){return e.SCALES},e.prototype.getLength=function(){return e.LENGTH},e.prototype.get=function(t){return this.compute(t.dayOfMonth,t.month+1,t.year)},e.prototype.object=function(t){var e=this.decompute(t);return{day:e[0],month:e[1]-1,year:e[2]}},e.prototype.start=function(t){var e=this.object(t);return A.build(e.year,e.month,e.day)},e.prototype.span=function(t,e){void 0===e&&(e=!1);var n=this.start(t),i=n.end(e);return new h(n,i)},e.prototype.describe=function(t,n){void 0===n&&(n=!1);var i=this.start(t),r=n?e.DESCRIBE_FORMAT_SHORT:e.DESCRIBE_FORMAT_LONG;return i.format(r)},e.prototype.matches=function(t,e){return t.dayIdentifier===e},e.DESCRIBE_FORMAT_LONG="LL",e.DESCRIBE_FORMAT_SHORT="ll",e.SCALES=[1,100,1e4],e.LENGTH=8,e}(c),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.getScales=function(){return e.SCALES},e.prototype.getLength=function(){return e.LENGTH},e.prototype.get=function(t){return this.compute(t.week,t.year)},e.prototype.object=function(t){var e=this.decompute(t);return{week:e[0],year:e[1]}},e.prototype.start=function(t){var e=this.object(t);return A.build(e.year,0).withWeek(e.week)},e.prototype.span=function(t,e){void 0===e&&(e=!1);var n=this.start(t),i=n.endOfWeek(e);return new h(n,i)},e.prototype.describe=function(t,n){void 0===n&&(n=!1);var i=this.start(t),r=n?e.DESCRIBE_FORMAT_SHORT:e.DESCRIBE_FORMAT_LONG;return i.format(r)},e.prototype.matches=function(t,e){return t.weekIdentifier===e},e.DESCRIBE_FORMAT_LONG="wo [week of] YYYY",e.DESCRIBE_FORMAT_SHORT="wo [week of] YYYY",e.SCALES=[1,1e3],e.LENGTH=7,e}(c),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.getScales=function(){return e.SCALES},e.prototype.getLength=function(){return e.LENGTH},e.prototype.get=function(t){return this.compute(t.month+1,t.year)},e.prototype.object=function(t){var e=this.decompute(t);return{month:e[0]-1,year:e[1]}},e.prototype.start=function(t){var e=this.object(t);return A.build(e.year,e.month)},e.prototype.span=function(t,e){void 0===e&&(e=!1);var n=this.start(t),i=n.endOfMonth(e);return new h(n,i)},e.prototype.describe=function(t,n){void 0===n&&(n=!1);var i=this.start(t),r=n?e.DESCRIBE_FORMAT_SHORT:e.DESCRIBE_FORMAT_LONG;return i.format(r)},e.prototype.matches=function(t,e){return t.monthIdentifier===e},e.DESCRIBE_FORMAT_LONG="MMMM YYYY",e.DESCRIBE_FORMAT_SHORT="MMM YYYY",e.SCALES=[1,100],e.LENGTH=6,e}(c),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.getScales=function(){return e.SCALES},e.prototype.getLength=function(){return e.LENGTH},e.prototype.get=function(t){return this.compute(t.quarter,t.year)},e.prototype.object=function(t){var e=this.decompute(t);return{quarter:e[0],year:e[1]}},e.prototype.start=function(t){var e=this.object(t);return A.build(e.year,3*(e.quarter-1))},e.prototype.span=function(t,e){void 0===e&&(e=!1);var n=this.start(t),i=n.relativeMonths(3).endOfMonth(e);return new h(n,i)},e.prototype.describe=function(t,n){void 0===n&&(n=!1);var i=this.start(t),r=n?e.DESCRIBE_FORMAT_SHORT:e.DESCRIBE_FORMAT_LONG;return i.format(r)},e.prototype.matches=function(t,e){return t.quarterIdentifier===e},e.DESCRIBE_FORMAT_LONG="Qo [quarter] YYYY",e.DESCRIBE_FORMAT_SHORT="Qo [quarter] YYYY",e.SCALES=[1,10],e.LENGTH=5,e}(c),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.getScales=function(){return e.SCALES},e.prototype.getLength=function(){return e.LENGTH},e.prototype.get=function(t){return this.compute(t.year)},e.prototype.object=function(t){return{year:this.decompute(t)[0]}},e.prototype.start=function(t){var e=this.object(t);return A.build(e.year,0)},e.prototype.span=function(t,e){void 0===e&&(e=!1);var n=this.start(t),i=n.endOfYear(e);return new h(n,i)},e.prototype.describe=function(t,n){void 0===n&&(n=!1);var i=this.start(t),r=n?e.DESCRIBE_FORMAT_SHORT:e.DESCRIBE_FORMAT_LONG;return i.format(r)},e.prototype.matches=function(t,e){return t.year===e},e.DESCRIBE_FORMAT_LONG="YYYY",e.DESCRIBE_FORMAT_SHORT="YYYY",e.SCALES=[1],e.LENGTH=4,e}(c);c.Time=new p,c.Day=new d,c.Week=new l,c.Month=new y,c.Quarter=new m,c.Year=new v;var O,M=function(){function t(){}return Object.defineProperty(t,"CACHE",{get:function(){if(!this._CACHE){this._CACHE=[];for(var t=0;t<=this._CACHE_SIZE;t++)this._CACHE[t]=this.get(t,!0)}return this._CACHE},enumerable:!0,configurable:!0}),t.determine=function(t){return t>=11&&t<=13?"th":this.MAP[t%this.MAP.length]},t.get=function(t,e){void 0===e&&(e=!1);var n=this.determine(t);return e?t+n:n},t.MAP=["th","st","nd","rd","th","th","th","th","th","th"],t._CACHE_SIZE=366,t}();!function(t){t[t.Continue=0]="Continue",t[t.Stop=1]="Stop",t[t.Remove=2]="Remove",t[t.Replace=3]="Replace"}(O=O||(O={}));for(var E,S=function(){function t(t){this.result=null,this.source=t}return t.prototype.clone=function(){return new t(this.source)},t.prototype.act=function(t){return this.action=O.Continue,this.replaceWith=null,this.callback(t,this),this.action},t.prototype.stop=function(t){return this.result=t,this.action=O.Stop,this},t.prototype.replace=function(t){return this.replaceWith=t,this.action=O.Replace,this},t.prototype.remove=function(){return this.action=O.Remove,this},t.prototype.isEmpty=function(t){void 0===t&&(t=null);var e=!0;return this.iterate(function(n,i){t&&!t(n)||(e=!1,i.stop())}),e},t.prototype.count=function(t){void 0===t&&(t=null);var e=0;return this.iterate(function(n,i){t&&!t(n)||e++}),e},t.prototype.first=function(t){void 0===t&&(t=null);var e=null;return this.iterate(function(n,i){t&&!t(n)||(e=n,i.stop())}),e},t.prototype.list=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=null),this.iterate(function(n,i){e&&!e(n)||t.push(n)}),t},t.prototype.object=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n=null),this.iterate(function(i,r){if(!n||n(i)){var o=t(i);e[o]=i}}),e},t.prototype.take=function(e){var n=this;return new t(function(t){n.iterate(function(n,i){switch(t.act(n)){case O.Stop:i.stop();break;case O.Remove:i.remove();break;case O.Replace:i.replace(t.replaceWith)}--e<=0&&i.stop()})})},t.prototype.skip=function(e){var n=this;return new t(function(t){var i=0;n.iterate(function(n,r){if(i>=e)switch(t.act(n)){case O.Stop:r.stop();break;case O.Remove:r.remove();break;case O.Replace:r.replace(t.replaceWith)}i++})})},t.prototype.append=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.join.apply(t,[this].concat(e))},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.join.apply(t,e.concat([this]))},t.prototype.purge=function(t){return this.iterate(function(e,n){t(e)&&n.remove()}),this},t.prototype.reverse=function(){var e=this;return new t(function(t){for(var n=e.list(),i=!1,r=[],o=[],s=n.length-1;s>=0;s--){var u=n[s],a=t.act(u);if(a===O.Stop)break;a!==O.Continue&&(i=!0,r[s]=a,o[s]=t.replaceWith)}if(i){var h=0;e.iterate(function(t,e){switch(r[h]){case O.Remove:e.remove();break;case O.Replace:e.replace(o[h])}h++})}})},t.prototype.reduce=function(t,e,n){void 0===n&&(n=null);var i=t;return this.iterate(function(t,r){n&&!n(t)||(i=e(t,i))}),i},t.prototype.filter=function(e){var n=this;return new t(function(t){n.iterate(function(n,i){if(e(n))switch(t.act(n)){case O.Stop:i.stop();break;case O.Remove:i.remove();break;case O.Replace:i.replace(t.replaceWith)}})})},t.prototype.map=function(e,n,i){var r=this;return void 0===n&&(n=null),void 0===i&&(i=null),new t(function(t){r.iterate(function(r,s){if(!n||n(r)){var u=e(r,s);if(o.isDefined(u))switch(t.act(u)){case O.Stop:s.stop();break;case O.Remove:s.remove();break;case O.Replace:i&&s.replace(i(t.replaceWith,u,r))}}})})},t.prototype.iterate=function(t){return this.result=void 0,this.callback=t,this.action=O.Continue,this.source(this),this.callback=null,this},t.prototype.withResult=function(t){return this.result&&t(this.result),this},t.forArray=function(e,n){return void 0===n&&(n=!1),new t(function(t){if(n)for(var i=e.length-1;i>=0;i--)switch(t.act(e[i])){case O.Stop:return;case O.Remove:e.splice(i,1);break;case O.Replace:e.splice(i,1,t.replaceWith)}else for(var i=0;i<e.length;i++)switch(t.act(e[i])){case O.Stop:return;case O.Remove:e.splice(i,1),i--;break;case O.Replace:e.splice(i,1,t.replaceWith)}})},t.forObject=function(e,n){return void 0===n&&(n=!0),new t(function(t){for(var i in e)if(!n||e.hasOwnProperty(i))switch(t.act(e[i])){case O.Stop:return;case O.Remove:delete e[i];break;case O.Replace:e[i]=t.replaceWith}})},t.join=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new t(function(t){for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r.iterate(function(e,n){switch(t.act(e)){case O.Remove:n.remove();break;case O.Stop:n.stop();break;case O.Replace:n.replace(t.replaceWith)}}),r.action===O.Stop)return}})},t.empty=function(){return new t(function(t){})},t}(),I=function(){function t(){this.map={}}return t.prototype.clear=function(){return this.map={},this},t.prototype.isEmpty=function(){for(var t in this.map)return!t;return!0},t.prototype.get=function(t,e,n){void 0===n&&(n=!0);var i=this.map;return n&&i[t.timeIdentifier]||i[t.dayIdentifier]||i[t.monthIdentifier]||i[t.weekIdentifier]||i[t.quarterIdentifier]||e},t.prototype.getIdentifier=function(t,e){void 0===e&&(e=!0);var n=this.map;return e&&o.isDefined(n[t.timeIdentifier])?c.Time:o.isDefined(n[t.dayIdentifier])?c.Day:o.isDefined(n[t.monthIdentifier])?c.Month:o.isDefined(n[t.weekIdentifier])?c.Week:o.isDefined(n[t.quarterIdentifier])?c.Quarter:o.isDefined(n[t.year])?c.Year:null},t.prototype.getAll=function(t){var e=this.map,n=[];return e[t.timeIdentifier]&&n.push(e[t.timeIdentifier]),e[t.dayIdentifier]&&n.push(e[t.dayIdentifier]),e[t.monthIdentifier]&&n.push(e[t.monthIdentifier]),e[t.weekIdentifier]&&n.push(e[t.weekIdentifier]),e[t.quarterIdentifier]&&n.push(e[t.quarterIdentifier]),n},t.prototype.move=function(t,e,n,i){var r=e.get(t),o=i.get(n);return this.map[o]=this.map[r],delete this.map[r],this},t.prototype.moveTime=function(t,e){var n=c.Time,i=[];this.iterate().iterate(function(e){var r=e[0];e[1];if(n.is(r)){n.start(r).sameTime(t)&&i.push(r)}});for(var r=0,o=0,s=i;o<s.length;o++){var u=s[o],a=this.map[u],h=n.start(u),f=h.withTime(e),p=n.get(f);this.map[p]||(this.map[p]=a,delete this.map[u],r++)}return r},t.prototype.removeTime=function(t){var e=c.Time,n=0;return this.iterate().iterate(function(i,r){var o=i[0];if(e.is(o)){e.start(o).sameTime(t)&&(r.remove(),n++)}}),n},t.prototype.set=function(t,e,n){return this.map[n.get(t)]=e,this},t.prototype.unset=function(t,e){return delete this.map[e.get(t)],this},t.prototype.iterate=function(){var t=this;return new S(function(e){var n=t.map;for(var i in n){var r=parseInt(i),o=r+""===i,s=o?r:i;switch(e.act([s,n[i]])){case O.Stop:return;case O.Remove:delete n[i]}}})},t.prototype.query=function(t){return this.iterate().filter(function(e){var n=e[0];e[1];return c.contains(t,n)})},t.prototype.identifiers=function(t){return this.iterate().filter(function(e){var n=e[0],i=e[1];return!t||t(i,n)}).map(function(t){return t[0]})},t.prototype.spans=function(t){return void 0===t&&(t=!1),this.iterate().map(function(e){var n=e[0],i=e[1],r=c.find(n);if(r){return{span:r.span(n,t),value:i}}})},t.prototype.describe=function(t){return void 0===t&&(t=!1),this.iterate().map(function(e){var n=e[0],i=c.find(n);if(i)return i.describe(n,t)})},t.prototype.describeMap=function(t){void 0===t&&(t=!1);var e=this.map,n={};for(var i in e){var r=c.find(i);r&&(n[r.describe(i,t)]=e[i])}return n},t}(),D=n(0),k=(n.n(D),function(){function t(t){this.exclude=new I,this.include=new I,this.cancel=new I,this.meta=new I,o.isDefined(t)&&this.set(t)}return t.prototype.set=function(e,n){return void 0===n&&(n=function(t){return t}),e instanceof t?w.schedule(e.toInput(),void 0,this):w.schedule(e,o.coalesce(e.parseMeta,n),this),this},Object.defineProperty(t.prototype,"lastTime",{get:function(){return this.times[this.times.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifierType",{get:function(){return this.isFullDay()?c.Day:c.Time},enumerable:!0,configurable:!0}),t.prototype.updateDurationInDays=function(){var t=this.lastTime?this.lastTime.toMilliseconds():0,e=this.duration*(a.DURATION_TO_MILLIS[this.durationUnit]||0),n=a.MILLIS_IN_DAY,i=a.MILLIS_IN_DAY;return this.durationInDays=Math.max(0,Math.ceil((t+e-n)/i)),this},t.prototype.updateChecks=function(){return this.checks=w.givenFrequency([this.year,this.month,this.week,this.weekOfYear,this.fullWeekOfYear,this.weekspanOfYear,this.lastFullWeekOfYear,this.lastWeekspanOfYear,this.weekOfMonth,this.weekspanOfMonth,this.fullWeekOfMonth,this.lastWeekspanOfMonth,this.lastFullWeekOfMonth,this.dayOfWeek,this.dayOfMonth,this.lastDayOfMonth,this.dayOfYear]),this},t.prototype.matchesSpan=function(t){return(null===this.start||t.isSameOrAfter(this.start))&&(null===this.end||t.isBefore(this.end))},t.prototype.matchesRange=function(t,e){return(!this.start||!e.isBefore(this.start))&&(!this.end||!t.isAfter(this.end))},t.prototype.isExcluded=function(t,e){return void 0===e&&(e=!0),this.exclude.get(t,!1,e)},t.prototype.isIncluded=function(t,e){return void 0===e&&(e=!0),this.include.get(t,!1,e)},t.prototype.isCancelled=function(t,e){return void 0===e&&(e=!0),this.cancel.get(t,!1,e)},t.prototype.getMeta=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=!0),this.meta.get(t,e,n)},t.prototype.getMetas=function(t){return this.meta.getAll(t)},t.prototype.isFullDay=function(){return 0===this.times.length},t.prototype.setFullDay=function(t,e){return void 0===t&&(t=!0),void 0===e&&(e="08:00"),t!==this.isFullDay()&&(t?(this.times=[],"days"!==this.durationUnit&&"day"!==this.durationUnit&&(this.duration=1,this.durationUnit="days")):(this.times=[w.time(e)],"hours"!==this.durationUnit&&"hour"!==this.durationUnit&&(this.duration=1,this.durationUnit="hours"))),this},t.prototype.adjustDefinedSpan=function(t){void 0===t&&(t=!1);var e=this.getSingleEventSpan();return e&&(t||this.start&&this.end)&&(this.start=e.start.start(),this.end=e.end.end()),this},t.prototype.getFullSpan=function(t){var e=t.start(),n=e.add(this.duration,this.durationUnit);return new h(e,n)},t.prototype.getTimeSpan=function(t,e){var n=t.withTime(e),i=n.add(this.duration,this.durationUnit);return new h(n,i)},t.prototype.matchesDay=function(t){if(this.isIncluded(t,!1))return!0;if(!this.matchesSpan(t)||this.isFullyExcluded(t))return!1;for(var e=0,n=this.checks;e<n.length;e++){var i=n[e];if(!i(t[i.property]))return!1}return!0},t.prototype.hasIncludedTime=function(t){return!this.iterateIncludeTimes(t).isEmpty()},t.prototype.isFullyExcluded=function(t){if(this.isExcluded(t,!1))return!0;if(this.isFullDay())return!1;for(var e=0,n=this.times;e<n.length;e++){var i=n[e];if(!this.isExcluded(t.withTime(i)))return!1}return!0},t.prototype.nextDay=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=366),this.iterateDaycast(t,1,!0,e,n).first()},t.prototype.nextDays=function(t,e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=366),this.iterateDaycast(t,e,!0,n,i)},t.prototype.prevDay=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=366),this.iterateDaycast(t,1,!1,e,n).first()},t.prototype.prevDays=function(t,e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=366),this.iterateDaycast(t,e,!1,n,i)},t.prototype.iterateDaycast=function(t,e,n,i,r){var o=this;return void 0===i&&(i=!1),void 0===r&&(r=366),new S(function(s){for(var u=0,a=0;a<r;a++)if((!i||a>0)&&(t=n?t.next():t.prev()),!o.iterateSpans(t,!1).isEmpty()){var h=s.act(t);if(h===O.Stop||++u>=e)return}})},t.prototype.iterateSpans=function(t,e){var n=this;return void 0===e&&(e=!1),new S(function(i){var r=t,o=e?n.durationInDays:0;if(n.isFullDay())for(;o>=0;){if(n.matchesDay(r)){var s=n.getFullSpan(r);if(s.matchesDay(t))switch(i.act(s)){case O.Stop:return}}r=r.prev(),o--}else for(;o>=0;){if(n.matchesDay(r))for(var u=0,a=n.times;u<a.length;u++){var h=a[u],s=n.getTimeSpan(r,h);if(s.matchesDay(t)&&!n.isExcluded(s.start,!0))switch(i.act(s)){case O.Stop:return}}else if(n.iterateIncludeTimes(r,t).iterate(function(t,e){switch(i.act(t)){case O.Stop:e.stop()}}),i.action===O.Stop)return;r=r.prev(),o--}})},t.prototype.matchesTime=function(t){return!!this.iterateSpans(t,!0).first(function(e){return e.start.sameMinute(t)})},t.prototype.coversDay=function(t){return!this.iterateSpans(t,!0).isEmpty()},t.prototype.coversTime=function(t){return!!this.iterateSpans(t,!0).first(function(e){return e.contains(t)})},t.prototype.setFrequency=function(t,e){return this[t]=w.frequency(e,t),this},t.prototype.setExcluded=function(t,e){void 0===e&&(e=!0);var n=this.identifierType;return this.exclude.set(t,e,n),this.include.set(t,!e,n),this},t.prototype.setCancelled=function(t,e){return void 0===e&&(e=!0),this.cancel.set(t,e,this.identifierType),this},t.prototype.removeTime=function(t,e){void 0===e&&(e=!0);for(var n=!1,i=0;i<this.times.length&&!n;i++)(n=t.matches(this.times[i]))&&this.times.splice(i,1);return n&&(e&&this.include.removeTime(t),this.exclude.removeTime(t),this.cancel.removeTime(t),this.meta.removeTime(t)),n},t.prototype.move=function(t,e,n){return!(this.moveSingleEvent(t)||!e)&&this.moveInstance(e,t)},t.prototype.moveTime=function(t,e){for(var n=!1,i=0;i<this.times.length&&!n;i++)(n=t.matches(this.times[i]))&&this.times.splice(i,1,e);return n&&(this.include.moveTime(t,e),this.exclude.moveTime(t,e),this.cancel.moveTime(t,e),this.meta.moveTime(t,e),this.adjustDefinedSpan(!1)),n},t.prototype.moveInstance=function(t,e){var n=this.identifierType;this.exclude.set(t,!0,n),this.exclude.set(e,!1,n),this.include.set(e,!0,n),this.include.set(t,!1,n),this.cancel.get(t,!1)&&!this.cancel.get(e,!1)&&(this.cancel.set(e,!0,n),this.cancel.getIdentifier(t)===n&&this.cancel.unset(t,n));var i=this.meta.get(t,null);return i&&i!==this.meta.get(e,null)&&(this.meta.set(e,i,n),this.meta.getIdentifier(t)===n&&this.meta.unset(t,n)),!0},t.prototype.moveSingleEvent=function(t,e){if(void 0===e&&(e=!0),!this.isSingleEvent())return!1;for(var n=0,i=this.checks;n<i.length;n++){var r=i[n],o=r.property,s=t[o],u=w.frequency([s],o);this[o]=u}1===this.times.length&&e&&(this.times=[t.asTime()]),this.updateChecks();var a=this.getSingleEventSpan();return this.start&&(this.start=a.start.start()),this.end&&(this.end=a.end.end()),!0},t.prototype.getSingleEventSpan=function(){if(!this.isSingleEvent())return null;var t=A.build(this.year.input[0],0,1),e=this.iterateDaycast(t,1,!0,!0,366).first();return e?this.isFullDay()?this.getFullSpan(e):this.getTimeSpan(e,this.times[0]):null},t.prototype.isSingleEvent=function(){return!(this.times.length>1)&&(!!this.include.isEmpty()&&(!!this.isSingleYear()&&(!!this.isSingleDayOfYear()||(!(!this.isSingleMonth()||!this.isSingleDayOfMonth())||(!!(this.isSingleMonth()&&this.isSingleWeekOfMonth()&&this.isSingleDayOfWeek())||!(!this.isSingleWeekOfYear()||!this.isSingleDayOfWeek()))))))},t.prototype.isSingleYear=function(){return this.isSingleFrequency(this.year)},t.prototype.isSingleMonth=function(){return this.isSingleFrequency(this.month)},t.prototype.isSingleDayOfMonth=function(){return this.isSingleFrequency(this.dayOfMonth)||this.isSingleFrequency(this.lastDayOfMonth)},t.prototype.isSingleDayOfWeek=function(){return this.isSingleFrequency(this.dayOfWeek)},t.prototype.isSingleDayOfYear=function(){return this.isSingleFrequency(this.dayOfYear)},t.prototype.isSingleWeekOfMonth=function(){return this.isSingleFrequency(this.weekspanOfMonth)||this.isSingleFrequency(this.fullWeekOfMonth)||this.isSingleFrequency(this.weekOfMonth)||this.isSingleFrequency(this.lastFullWeekOfMonth)||this.isSingleFrequency(this.lastWeekspanOfMonth)},t.prototype.isSingleWeekOfYear=function(){return this.isSingleFrequency(this.weekspanOfYear)||this.isSingleFrequency(this.fullWeekOfYear)||this.isSingleFrequency(this.week)||this.isSingleFrequency(this.weekOfYear)||this.isSingleFrequency(this.lastFullWeekOfYear)||this.isSingleFrequency(this.lastWeekspanOfYear)},t.prototype.isSingleFrequency=function(t){return o.isArray(t.input)&&1===t.input.length},t.prototype.forecast=function(t,e,n,i,r,o){var s=this;void 0===e&&(e=!0),void 0===i&&(i=n),void 0===r&&(r=!1),void 0===o&&(o=366);var u=this.identifierType,a=function(t,n){for(var i=s.iterateSpans(t,e).list(),o=r?i.length:Math.min(1,i.length),a=r?0:i.length-1,h=0;h<o;h++){var f=i[h+a],c=u.get(f.start);if(n.act([f,t,c])===O.Stop)return!1}return!0},h=new S(function(e){for(var n=t,i=0;i<o&&a(n,e);i++)n=n.prev()}),f=new S(function(e){for(var n=t,i=0;i<o&&(n=n.next(),a(n,e));i++);});return h.take(i+1).reverse().append(f.take(n))},t.prototype.iterateIncludeTimes=function(t,e){var n=this;void 0===e&&(e=t);var i=function(t){var e=t[0];return t[1]&&c.Time.is(e)},r=function(t){var i=t[0],r=c.Time.start(i),o=n.getTimeSpan(r,r.asTime());if(o.matchesDay(e))return o};return this.include.query(t.dayIdentifier).map(r,i)},t.prototype.clone=function(){return new t(this.toInput())},t.prototype.toInput=function(t,e,n,i){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=""),void 0===i&&(i=!1);for(var r=a.DURATION_DEFAULT_UNIT(this.isFullDay()),s=this.exclude.identifiers(function(t){return t}).list(),u=this.include.identifiers(function(t){return t}).list(),h=this.cancel.identifiers(function(t){return t}).list(),f=!this.meta.isEmpty(),c={},p=[],d=0,l=this.times;d<l.length;d++){var y=l[d];p.push(e?y:n?y.format(n):y.toString())}return this.start&&(c.start=t?this.start:this.start.time),this.end&&(c.end=t?this.end:this.end.time),p.length&&(c.times=p),(i||this.duration!==a.DURATION_DEFAULT)&&(c.duration=this.duration),(i||this.durationUnit!==r)&&(c.durationUnit=this.durationUnit),s.length&&(c.exclude=s),u.length&&(c.include=u),h.length&&(c.cancel=h),f&&(c.meta=o.extend({},this.meta.map)),this.dayOfWeek.input&&(c.dayOfWeek=this.dayOfWeek.input),this.dayOfMonth.input&&(c.dayOfMonth=this.dayOfMonth.input),this.lastDayOfMonth.input&&(c.lastDayOfMonth=this.lastDayOfMonth.input),this.dayOfYear.input&&(c.dayOfYear=this.dayOfYear.input),this.year.input&&(c.year=this.year.input),this.month.input&&(c.month=this.month.input),this.week.input&&(c.week=this.week.input),this.weekOfYear.input&&(c.weekOfYear=this.weekOfYear.input),this.weekspanOfYear.input&&(c.weekspanOfYear=this.weekspanOfYear.input),this.fullWeekOfYear.input&&(c.fullWeekOfYear=this.fullWeekOfYear.input),this.lastWeekspanOfYear.input&&(c.lastWeekspanOfYear=this.lastWeekspanOfYear.input),this.lastFullWeekOfYear.input&&(c.lastFullWeekOfYear=this.lastFullWeekOfYear.input),this.weekOfMonth.input&&(c.weekOfMonth=this.weekOfMonth.input),this.weekspanOfMonth.input&&(c.weekspanOfMonth=this.weekspanOfMonth.input),this.fullWeekOfMonth.input&&(c.fullWeekOfMonth=this.fullWeekOfMonth.input),this.lastWeekspanOfMonth.input&&(c.lastWeekspanOfMonth=this.lastWeekspanOfMonth.input),this.lastFullWeekOfMonth.input&&(c.lastFullWeekOfMonth=this.lastFullWeekOfMonth.input),c},t.prototype.describe=function(t,e,n,i,r,o,u){void 0===t&&(t="event"),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===u&&(u=!1);var h="";if(e&&(this.start?(h+="Starting on "+this.start.format("dddd Do, YYYY"),this.end&&(h+=" and ending on "+this.end.format("dddd Do, YYYY"))):this.end&&(h+="Up until "+this.end.format("dddd Do, YYYY"))),h+=h?" the "+t+" will occur":"The "+t+" will occur",h+=this.describeRule(this.dayOfWeek.input,"day of the week",function(t){return D.weekdays()[t]},1,!1),h+=this.describeRule(this.lastDayOfMonth.input,"last day of the month",function(t){return M.CACHE[t]}),h+=this.describeRule(this.dayOfMonth.input,"day of the month",function(t){return M.CACHE[t]}),h+=this.describeRule(this.dayOfYear.input,"day of the year",function(t){return M.CACHE[t]},1),h+=this.describeRule(this.year.input,"year",function(t){return t},0,!1," in "),h+=this.describeRule(this.month.input,"month",function(t){return D.months()[t]},0,!1," in "),h+=this.describeRule(this.weekOfYear.input,"week of the year",function(t){return M.CACHE[t]}),h+=this.describeRule(this.weekspanOfYear.input,"weekspan of the year",function(t){return M.CACHE[t+1]},1),h+=this.describeRule(this.fullWeekOfYear.input,"full week of the year",function(t){return M.CACHE[t]}),h+=this.describeRule(this.lastWeekspanOfYear.input,"last weekspan of the year",function(t){return M.CACHE[t+1]},1),h+=this.describeRule(this.lastFullWeekOfYear.input,"last full week of the year",function(t){return M.CACHE[t]}),h+=this.describeRule(this.weekOfMonth.input,"week of the month",function(t){return M.CACHE[t]}),h+=this.describeRule(this.fullWeekOfMonth.input,"full week of the month",function(t){return M.CACHE[t]}),h+=this.describeRule(this.weekspanOfMonth.input,"weekspan of the month",function(t){return M.CACHE[t+1]},1),h+=this.describeRule(this.lastFullWeekOfMonth.input,"last full week of the month",function(t){return M.CACHE[t]}),h+=this.describeRule(this.lastWeekspanOfMonth.input,"last weekspan of the month",function(t){return M.CACHE[t+1]},1),n&&this.times.length&&(h+=" at ",h+=this.describeArray(this.times,function(t){return t.format("hh:mm a")})),i&&this.duration!==a.DURATION_DEFAULT&&(h+=" lasting "+this.duration+" ",this.durationUnit&&(h+=this.durationUnit+" ")),r){var f=this.exclude.spans().list();f.length&&(h+=" excluding ",h+=this.describeArray(f,function(t){return t.span.summary(s.DAY)}))}if(o){var c=this.include.spans().list();c.length&&(h+=" including ",h+=this.describeArray(c,function(t){return t.span.summary(s.DAY)}))}if(u){var p=this.cancel.spans().list();p.length&&(h+=" with cancellations on ",h+=this.describeArray(p,function(t){return t.span.summary(s.DAY)}))}return h},t.prototype.describeRule=function(t,e,n,i,r,s,u){void 0===i&&(i=0),void 0===r&&(r=!0),void 0===s&&(s=" on "),void 0===u&&(u=!1);var a="",h=r?" "+e:"";if(o.isFrequencyValueEvery(t)){var f=t;a+=" every "+M.CACHE[f.every]+" "+e,f.offset&&(a+=" starting at "+n(f.offset+i)+h)}else if(o.isFrequencyValueOneOf(t)){var c=t;c.length&&(a+=s+(r?"the ":""),a+=this.describeArray(c,n),a+=h)}else u&&(a+=s+"any "+e);return a},t.prototype.describeArray=function(t,e){var n="",i=t.length-1;n+=e(t[0]);for(var r=1;r<i;r++)n+=", "+e(t[r]);return i>0&&(n+=" and "+e(t[i])),n},t.forDay=function(e,n){void 0===n&&(n=1);var i=A.parse(e);return i?new t({year:[i.year],month:[i.month],dayOfMonth:[i.dayOfMonth],duration:n,durationUnit:"days"}):null},t.forTime=function(e,n,i,r){void 0===i&&(i=1),void 0===r&&(r="hours");var o=A.parse(e);return o?new t({year:[o.year],month:[o.month],dayOfMonth:[o.dayOfMonth],times:[n],duration:i,durationUnit:r}):null},t.forSpan=function(t){var e=t.start,n=t.minutes(),i=n%a.MINUTES_IN_DAY==0,r=n%a.MINUTES_IN_HOUR==0,o=i?n/a.MINUTES_IN_DAY:r?n/a.MINUTES_IN_HOUR:n,s=i?"days":r?"hours":"minutes";return this.forTime(e,e.asTime(),o,s)},t}()),Y=function(){function t(t,e,n,i){void 0===i&&(i=!0),this.schedule=t,this.data=e,this.id=n,this.visible=i}return t}(),g=function(){function t(t,e,n,i){void 0===e&&(e=a.MINUTE_MIN),void 0===n&&(n=a.SECOND_MIN),void 0===i&&(i=a.MILLIS_MIN),this.hour=t,this.minute=e,this.second=n,this.millisecond=i}return t.prototype.format=function(e){for(var n=t.FORMATTERS,i="",r=0;r<e.length;r++){for(var o=!1,s=0;s<n.length&&!o;s++){var u=n[s],a=e.substring(r,r+u.size);if(a.length===u.size){var h=u.formats[a];h&&(i+=h(this),r+=u.size-1,o=!0)}}o||(i+=e.charAt(r))}return i},t.prototype.matches=function(t){return this.hour===t.hour&&this.minute===t.minute&&this.second===t.second&&this.millisecond===t.millisecond},t.prototype.matchesHour=function(t){return this.hour===t.hour},t.prototype.matchesMinute=function(t){return this.hour===t.hour&&this.minute===t.minute},t.prototype.matchesSecond=function(t){return this.hour===t.hour&&this.minute===t.minute&&this.second===t.second},t.prototype.set=function(e){var n=t.parse(e),i=!!n;return i&&(this.hour=n.hour,this.minute=n.minute,this.second=n.second,this.millisecond=n.millisecond),i},t.prototype.toMilliseconds=function(){return this.hour*a.MILLIS_IN_HOUR+this.minute*a.MILLIS_IN_MINUTE+this.second*a.MILLIS_IN_SECOND+this.millisecond},t.prototype.toString=function(){return this.millisecond?this.format("HH:mm:ss.SSS"):this.second?this.format("HH:mm:ss"):this.minute?this.format("HH:mm"):this.format("HH")},t.prototype.toIdentifier=function(){return this.hour+100*this.minute+1e4*this.second+1e7*this.millisecond},t.prototype.toObject=function(){var t={hour:this.hour};return this.minute&&(t.minute=this.minute),this.second&&(t.second=this.second),this.millisecond&&(t.millisecond=this.millisecond),t},t.parse=function(t){return w.time(t)},t.fromString=function(t){var e=this.REGEX.exec(t);if(!e)return null;var n=parseInt(e[1])||0,i=parseInt(e[2])||0,r=parseInt(e[3])||0,o=parseInt(e[4])||0;return this.build(n,i,r,o)},t.fromIdentifier=function(t){var e=t%100,n=Math.floor(t/100)%100,i=Math.floor(t/1e4)%100,r=Math.floor(t/1e7)%1e3;return this.build(e,n,i,r)},t.build=function(e,n,i,r){return void 0===n&&(n=a.MINUTE_MIN),void 0===i&&(i=a.SECOND_MIN),void 0===r&&(r=a.MILLIS_MIN),new t(e,n,i,r)},t.REGEX=/^(\d\d?):?(\d\d)?:?(\d\d)?\.?(\d\d\d)?$/,t.FORMATTERS=[{size:3,formats:{SSS:function(t){return o.padNumber(t.millisecond,3)}}},{size:2,formats:{HH:function(t){return o.padNumber(t.hour,2)},hh:function(t){return o.padNumber(t.hour%12||12,2)},kk:function(t){return o.padNumber(t.hour+1,2)},mm:function(t){return o.padNumber(t.minute,2)},ss:function(t){return o.padNumber(t.second,2)},SS:function(t){return o.padNumber(t.millisecond,3,2)}}},{size:1,formats:{A:function(t){return t.hour<12?"AM":"PM"},a:function(t){return t.hour<12?"am":"pm"},H:function(t){return t.hour+""},h:function(t){return(t.hour%12||12)+""},k:function(t){return t.hour+1+""},m:function(t){return t.minute+""},s:function(t){return t.second+""},S:function(t){return o.padNumber(t.millisecond,3,1)}}}],t}(),w=function(){function t(){}return t.frequency=function(t,e){var n=function(t){return!0};if(n.given=!1,o.isFrequencyValueEvery(t)){var i=t.every,r=(t.offset||0)%i;n=function(t){return t%i===r},n.given=!0}if(o.isFrequencyValueOneOf(t)){for(var s={},u=0;u<t.length;u++)s[t[u]]=!0;n=function(t){return!!s[t]},n.given=!0}return n.input=o.coalesce(t,null),n.property=e,n},t.day=function(t){return o.isNumber(t)?A.unix(t):o.isString(t)?A.fromString(t):t instanceof A?t:o.isArray(t)?A.fromArray(t):o.isObject(t)?A.fromObject(t):!0===t?A.today():null},t.time=function(t){return t instanceof g?t:o.isNumber(t)?g.fromIdentifier(t):o.isString(t)?g.fromString(t):o.isObject(t)&&o.isNumber(t.hour)?new g(t.hour,t.minute,t.second,t.millisecond):null},t.times=function(t){var e=[];if(o.isArray(t)){for(var n=0,i=t;n<i.length;n++){var r=i[n],s=this.time(r);s&&e.push(s)}e.sort(function(t,e){return t.toMilliseconds()-e.toMilliseconds()})}return e},t.modifier=function(t,e,n,i){void 0===n&&(n=function(t){return t}),void 0===i&&(i=new I);var r={};if(o.isArray(t))for(var s=0,u=t;s<u.length;s++){var a=u[s];a instanceof A?r[a.dayIdentifier]=e:o.isNumber(a)?r[a]=e:o.isString(a)&&(r[a]=e)}if(o.isObject(t))for(var a in t)r[a]=n(t[a]);return i.map=r,i},t.schedule=function(t,e,n){if(void 0===e&&(e=function(t){return t}),void 0===n&&(n=new k),t instanceof k)return t;var i=this.day(t.on),r=this.times(t.times),s=0===r.length;return i&&(t.start=i.start(),t.end=i.end(),t.year=[i.year],t.month=[i.month],t.dayOfMonth=[i.dayOfMonth]),n.times=r,n.duration=o.coalesce(t.duration,a.DURATION_DEFAULT),n.durationUnit=o.coalesce(t.durationUnit,a.DURATION_DEFAULT_UNIT(s)),n.start=this.day(t.start),n.end=this.day(t.end),n.exclude=this.modifier(t.exclude,!0,void 0,n.exclude),n.include=this.modifier(t.include,!0,void 0,n.include),n.cancel=this.modifier(t.cancel,!0,void 0,n.cancel),n.meta=this.modifier(t.meta,null,e,n.meta),n.year=this.frequency(t.year,"year"),n.month=this.frequency(t.month,"month"),n.week=this.frequency(t.week,"week"),n.weekOfYear=this.frequency(t.weekOfYear,"weekOfYear"),n.weekspanOfYear=this.frequency(t.weekspanOfYear,"weekspanOfYear"),n.fullWeekOfYear=this.frequency(t.fullWeekOfYear,"fullWeekOfYear"),n.lastWeekspanOfYear=this.frequency(t.lastWeekspanOfYear,"lastWeekspanOfYear"),n.lastFullWeekOfYear=this.frequency(t.lastFullWeekOfYear,"lastFullWeekOfYear"),n.weekOfMonth=this.frequency(t.weekOfMonth,"weekOfMonth"),n.weekspanOfMonth=this.frequency(t.weekspanOfMonth,"weekspanOfMonth"),n.fullWeekOfMonth=this.frequency(t.fullWeekOfMonth,"fullWeekOfMonth"),n.lastWeekspanOfMonth=this.frequency(t.lastWeekspanOfMonth,"lastWeekspanOfMonth"),n.lastFullWeekOfMonth=this.frequency(t.lastFullWeekOfMonth,"lastFullWeekOfMonth"),n.dayOfWeek=this.frequency(t.dayOfWeek,"dayOfWeek"),n.dayOfMonth=this.frequency(t.dayOfMonth,"dayOfMonth"),n.lastDayOfMonth=this.frequency(t.lastDayOfMonth,"lastDayOfMonth"),n.dayOfYear=this.frequency(t.dayOfYear,"dayOfYear"),n.updateDurationInDays(),n.updateChecks(),n},t.givenFrequency=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var r=i[n];r.given&&e.push(r)}return e},t.event=function(t,e,n){if(void 0===e&&(e=function(t){return t}),void 0===n&&(n=function(t){return t}),t instanceof Y)return t;if(!t.schedule)return null;var i=this.schedule(t.schedule,n);return new Y(i,e(t.data),t.id,t.visible)},t.cron=function(t,e){return void 0===e&&(e=new k),e},t}(),_=n(0),A=(n.n(_),function(){function t(e){this.date=e,this.time=e.valueOf(),this.millis=e.millisecond(),this.seconds=e.second(),this.minute=e.minute(),this.hour=e.hour(),this.month=e.month(),this.year=e.year(),this.quarter=e.quarter(),this.dayOfWeek=e.day(),this.dayOfMonth=e.date(),this.dayOfYear=e.dayOfYear(),this.week=e.week(),this.lastDayOfMonth=t.getLastDayOfMonth(e),this.weekOfYear=t.getWeekOfYear(e),this.weekspanOfYear=t.getWeekspanOfYear(e),this.fullWeekOfYear=t.getFullWeekOfYear(e),this.lastWeekspanOfYear=t.getLastWeekspanOfYear(e),this.lastFullWeekOfYear=t.getLastFullWeekOfYear(e),this.weekOfMonth=t.getWeekOfMonth(e),this.weekspanOfMonth=t.getWeekspanOfMonth(e),this.fullWeekOfMonth=t.getFullWeekOfMonth(e),this.lastWeekspanOfMonth=t.getLastWeekspanOfMonth(e),this.lastFullWeekOfMonth=t.getLastFullWeekOfMonth(e),this.timeIdentifier=c.Time.get(this),this.dayIdentifier=c.Day.get(this),this.weekIdentifier=c.Week.get(this),this.monthIdentifier=c.Month.get(this),this.quarterIdentifier=c.Quarter.get(this)}return t.prototype.sameDay=function(t){return this.dayIdentifier===t.dayIdentifier},t.prototype.sameMonth=function(t){return this.monthIdentifier===t.monthIdentifier},t.prototype.sameWeek=function(t){return this.weekIdentifier===t.weekIdentifier},t.prototype.sameYear=function(t){return this.year===t.year},t.prototype.sameQuarter=function(t){return this.quarterIdentifier===t.quarterIdentifier},t.prototype.sameHour=function(t){return this.dayIdentifier===t.dayIdentifier&&this.hour===t.hour},t.prototype.sameMinute=function(t){return this.timeIdentifier===t.timeIdentifier},t.prototype.sameTime=function(t){return this.hour===t.hour&&this.minute===t.minute&&this.seconds===t.second&&this.millis===t.millisecond},t.prototype.isBefore=function(t,e){return this.date.isBefore(t.date,e)},t.prototype.isSameOrBefore=function(t,e){return this.date.isSameOrBefore(t.date,e)},t.prototype.isAfter=function(t,e){return this.date.isAfter(t.date,e)},t.prototype.isSameOrAfter=function(t,e){return this.date.isSameOrAfter(t.date,e)},t.prototype.max=function(t){return this.date.isAfter(t.date)?this:t},t.prototype.min=function(t){return this.date.isBefore(t.date)?this:t},t.prototype.millisBetween=function(t,e,n){return void 0===e&&(e=r.DOWN),void 0===n&&(n=!0),i(this.date.diff(t.date,"milliseconds",!0),e,n)},t.prototype.secondsBetween=function(t,e,n){return void 0===e&&(e=r.DOWN),void 0===n&&(n=!0),i(this.date.diff(t.date,"seconds",!0),e,n)},t.prototype.minutesBetween=function(t,e,n){return void 0===e&&(e=r.DOWN),void 0===n&&(n=!0),i(this.date.diff(t.date,"minutes",!0),e,n)},t.prototype.hoursBetween=function(t,e,n){return void 0===e&&(e=r.DOWN),void 0===n&&(n=!0),i(this.date.diff(t.date,"hours",!0),e,n)},t.prototype.daysBetween=function(t,e,n){return void 0===e&&(e=r.DOWN),void 0===n&&(n=!0),i(this.date.diff(t.date,"days",!0),e,n)},t.prototype.weeksBetween=function(t,e,n){return void 0===e&&(e=r.DOWN),void 0===n&&(n=!0),i(this.date.diff(t.date,"weeks",!0),e,n)},t.prototype.monthsBetween=function(t,e,n){return void 0===e&&(e=r.DOWN),void 0===n&&(n=!0),i(this.date.diff(t.date,"months",!0),e,n)},t.prototype.yearsBetween=function(t,e,n){return void 0===e&&(e=r.DOWN),void 0===n&&(n=!0),i(this.date.diff(t.date,"years",!0),e,n)},t.prototype.isBetween=function(t,e,n){return void 0===n&&(n=!0),this.date.isBetween(t.date,e.date,null,n?"[]":"[)")},t.prototype.mutate=function(e){var n=this.toMoment();return e(n),new t(n)},t.prototype.add=function(t,e){return this.mutate(function(n){return n.add(t,e)})},t.prototype.relative=function(t){return this.mutate(function(e){return e.add(t,"milliseconds")})},t.prototype.relativeDays=function(t){return this.mutate(function(e){return e.add(t,"days")})},t.prototype.prev=function(t){return void 0===t&&(t=1),this.relativeDays(-t)},t.prototype.next=function(t){return void 0===t&&(t=1),this.relativeDays(t)},t.prototype.withDayOfMonth=function(t){return this.mutate(function(e){return e.date(t)})},t.prototype.withDayOfWeek=function(t){return this.mutate(function(e){return e.day(t)})},t.prototype.withDayOfYear=function(t){return this.mutate(function(e){return e.dayOfYear(t)})},t.prototype.withMonth=function(t){return this.mutate(function(e){return e.month(t)})},t.prototype.relativeMonths=function(t){return this.mutate(function(e){return e.add(t,"months")})},t.prototype.prevMonth=function(t){return void 0===t&&(t=1),this.relativeMonths(-t)},t.prototype.nextMonth=function(t){return void 0===t&&(t=1),this.relativeMonths(t)},t.prototype.withWeek=function(t,e){return void 0===e&&(e=this.week),this.mutate(function(n){return n.add((t-e)*a.DAYS_IN_WEEK,"days")})},t.prototype.withWeekOfYear=function(t){return this.withWeek(t,this.weekOfYear)},t.prototype.withFullWeekOfYear=function(t){return this.withWeek(t,this.fullWeekOfYear)},t.prototype.withWeekspanOfYear=function(t){return this.withWeek(t,this.weekspanOfYear)},t.prototype.withWeekOfMonth=function(t){return this.withWeek(t,this.weekOfMonth)},t.prototype.withWeekspanOfMonth=function(t){return this.withWeek(t,this.weekspanOfMonth)},t.prototype.withFullWeekOfMonth=function(t){return this.withWeek(t,this.fullWeekOfMonth)},t.prototype.relativeWeeks=function(t){return this.mutate(function(e){return e.add(t,"weeks")})},t.prototype.prevWeek=function(t){return void 0===t&&(t=1),this.relativeWeeks(-t)},t.prototype.nextWeek=function(t){return void 0===t&&(t=1),this.relativeWeeks(t)},t.prototype.withYear=function(t){return this.mutate(function(e){return e.year(t)})},t.prototype.relativeYears=function(t){return this.mutate(function(e){return e.add(t,"year")})},t.prototype.prevYear=function(t){return void 0===t&&(t=1),this.relativeYears(-t)},t.prototype.nextYear=function(t){return void 0===t&&(t=1),this.relativeYears(t)},t.prototype.withHour=function(t){return this.mutate(function(e){return e.hour(t)})},t.prototype.relativeHours=function(t){return this.mutate(function(e){return e.add(t,"hours")})},t.prototype.prevHour=function(t){return void 0===t&&(t=1),this.relativeHours(-t)},t.prototype.nextHour=function(t){return void 0===t&&(t=1),this.relativeHours(t)},t.prototype.withTimes=function(t,e,n,i){return void 0===t&&(t=a.HOUR_MIN),void 0===e&&(e=a.MINUTE_MIN),void 0===n&&(n=a.SECOND_MIN),void 0===i&&(i=a.MILLIS_MIN),this.mutate(function(r){return r.set({hour:t,minute:e,second:n,millisecond:i})})},t.prototype.withTime=function(t){return this.withTimes(t.hour,t.minute,t.second,t.millisecond)},t.prototype.asTime=function(){return new g(this.hour,this.minute,this.seconds,this.millis)},t.prototype.start=function(){return this.mutate(function(t){return t.startOf("day")})},t.prototype.isStart=function(){return this.hour===a.HOUR_MIN&&this.minute===a.MINUTE_MIN&&this.seconds===a.SECOND_MIN&&this.millis===a.MILLIS_MIN},t.prototype.end=function(t){return void 0===t&&(t=!0),t?this.mutate(function(t){return t.endOf("day")}):this.mutate(function(t){return t.startOf("day").add(1,"day")})},t.prototype.isEnd=function(){return this.hour===a.HOUR_MAX&&this.minute===a.MINUTE_MAX&&this.seconds===a.SECOND_MAX&&this.millis===a.MILLIS_MAX},t.prototype.startOfHour=function(){return this.mutate(function(t){return t.startOf("hour")})},t.prototype.isStartOfHour=function(){return this.minute===a.MINUTE_MIN&&this.seconds===a.SECOND_MIN&&this.millis===a.MILLIS_MIN},t.prototype.endOfHour=function(t){return void 0===t&&(t=!0),t?this.mutate(function(t){return t.endOf("hour")}):this.mutate(function(t){return t.startOf("hour").add(1,"hour")})},t.prototype.isEndOfHour=function(){return this.minute===a.MINUTE_MAX&&this.seconds===a.SECOND_MAX&&this.millis===a.MILLIS_MAX},t.prototype.startOfWeek=function(){return this.mutate(function(t){return t.startOf("week")})},t.prototype.isStartOfWeek=function(){return this.dayOfWeek===a.WEEKDAY_MIN},t.prototype.endOfWeek=function(t){return void 0===t&&(t=!0),t?this.mutate(function(t){return t.endOf("week")}):this.mutate(function(t){return t.startOf("week").add(1,"week")})},t.prototype.isEndOfWeek=function(){return this.dayOfWeek===a.WEEKDAY_MAX},t.prototype.startOfMonth=function(){return this.mutate(function(t){return t.startOf("month")})},t.prototype.isStartOfMonth=function(){return this.dayOfMonth===a.DAY_MIN},t.prototype.endOfMonth=function(t){return void 0===t&&(t=!0),t?this.mutate(function(t){return t.endOf("month")}):this.mutate(function(t){return t.startOf("month").add(1,"month")})},t.prototype.isEndOfMonth=function(){return this.dayOfMonth===this.daysInMonth()},t.prototype.startOfYear=function(){return this.mutate(function(t){return t.startOf("year")})},t.prototype.isStartOfYear=function(){return this.month===a.MONTH_MIN&&this.dayOfMonth===a.DAY_MIN},t.prototype.endOfYear=function(t){return void 0===t&&(t=!0),t?this.mutate(function(t){return t.endOf("year")}):this.mutate(function(t){return t.startOf("year").add(1,"year")})},t.prototype.isEndOfYear=function(){return this.month===a.MONTH_MAX&&this.dayOfMonth===a.DAY_MAX},t.prototype.daysInMonth=function(){return this.date.daysInMonth()},t.prototype.daysInYear=function(){return this.endOfYear().dayOfYear},t.prototype.weeksInYear=function(){return this.date.weeksInYear()},t.prototype.format=function(t){return this.date.format(t)},t.prototype.utc=function(t){return this.mutate(function(e){return e.utc(t)})},t.prototype.toMoment=function(){return this.date.clone()},t.prototype.toDate=function(){return this.date.toDate()},t.prototype.toArray=function(){return this.date.toArray()},t.prototype.toJSON=function(){return this.date.toJSON()},t.prototype.toISOString=function(t){return void 0===t&&(t=!1),this.date.toISOString(t)},t.prototype.toObject=function(){return this.date.toObject()},t.prototype.toString=function(){return this.date.toString()},t.prototype.isDST=function(){return this.date.isDST()},t.prototype.isLeapYear=function(){return this.date.isLeapYear()},t.now=function(){return new t(_())},t.today=function(){return this.now().start()},t.tomorrow=function(){return this.today().next()},t.fromMoment=function(e){return e&&e.isValid()?new t(e):null},t.unix=function(t){return this.fromMoment(_(t))},t.unixSeconds=function(t){return this.fromMoment(_.unix(t))},t.parse=function(t){return w.day(t)},t.fromString=function(t){return this.fromMoment(_(t))},t.fromFormat=function(t,e){return this.fromMoment(_(t,e))},t.fromObject=function(t){return this.fromMoment(_(t))},t.fromDate=function(t){return this.fromMoment(_(t))},t.fromArray=function(t){return this.fromMoment(_(t))},t.fromDayIdentifier=function(t){var e=t%100,n=Math.floor(t/100)%100-1,i=Math.floor(t/1e4);return this.build(i,n,e)},t.build=function(e,n,i,r,o,s,u){return void 0===i&&(i=a.DAY_MIN),void 0===r&&(r=a.HOUR_MIN),void 0===o&&(o=a.MINUTE_MIN),void 0===s&&(s=a.SECOND_MIN),void 0===u&&(u=a.MILLIS_MIN),new t(_({year:e,month:n,date:i,hour:r,minute:o,second:s,millisecond:u}))},t.getWeekspanOfYear=function(t){return Math.floor((t.dayOfYear()-1)/a.DAYS_IN_WEEK)},t.getLastWeekspanOfYear=function(t){var e=t.clone().endOf("year"),n=e.dayOfYear();return Math.floor((n-t.dayOfYear())/a.DAYS_IN_WEEK)},t.getWeekOfYear=function(t){var e=t.clone().startOf("year"),n=t.week();return e.day()>a.WEEK_OF_MONTH_MINIMUM_WEEKDAY?n-1:n},t.getFullWeekOfYear=function(t){var e=t.clone().startOf("year"),n=t.week();return e.day()===a.WEEKDAY_MIN?n:n-1},t.getLastFullWeekOfYear=function(t){var e=t.clone().startOf("year"),n=t.week(),i=t.weeksInYear(),r=i-n;return e.day()===a.WEEKDAY_MIN?r+1:r},t.getWeekspanOfMonth=function(t){return Math.floor((t.date()-1)/a.DAYS_IN_WEEK)},t.getLastWeekspanOfMonth=function(t){return Math.floor((t.daysInMonth()-t.date())/a.DAYS_IN_WEEK)},t.getFullWeekOfMonth=function(t){return Math.floor((t.date()-1-t.day()+a.DAYS_IN_WEEK)/a.DAYS_IN_WEEK)},t.getLastFullWeekOfMonth=function(t){return Math.floor((t.daysInMonth()-t.date()-(a.WEEKDAY_MAX-t.day())+a.DAYS_IN_WEEK)/a.DAYS_IN_WEEK)},t.getWeekOfMonth=function(t){var e=t.date(),n=t.day(),i=e-n;return Math.floor((i+a.WEEK_OF_MONTH_MINIMUM_WEEKDAY+5)/a.DAYS_IN_WEEK)},t.getLastDayOfMonth=function(t){return t.daysInMonth()-t.date()+1},t}()),N=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentDay=!1,e.currentWeek=!1,e.currentMonth=!1,e.currentYear=!1,e.currentOffset=0,e.selectedDay=!1,e.selectedWeek=!1,e.selectedMonth=!1,e.selectedYear=!1,e.inCalendar=!1,e.events=[],e}return N(e,t),e.prototype.iterateEvents=function(){return S.forArray(this.events)},e.prototype.updateCurrent=function(t){return this.currentDay=this.sameDay(t),this.currentWeek=this.sameWeek(t),this.currentMonth=this.sameMonth(t),this.currentYear=this.sameYear(t),this.currentOffset=this.daysBetween(t,r.DOWN,!1),this},e.prototype.updateSelected=function(t){return this.selectedDay=t.matchesDay(this),this.selectedWeek=t.matchesWeek(this),this.selectedMonth=t.matchesMonth(this),this.selectedYear=t.matchesYear(this),this},e.prototype.clearSelected=function(){return this.selectedDay=this.selectedWeek=this.selectedMonth=this.selectedYear=!1,this},e}(A),T=function(){function t(t,e,n,i){this.row=0,this.col=0,this.id=t,this.event=e,this.time=n,this.day=i,this.fullDay=e.schedule.isFullDay(),this.meta=e.schedule.getMeta(n.start),this.cancelled=e.schedule.isCancelled(n.start),this.starting=n.isPoint||n.start.sameDay(i),this.ending=n.isPoint||n.end.relative(-1).sameDay(i)}return Object.defineProperty(t.prototype,"scheduleId",{get:function(){return Math.floor(this.id/a.MAX_EVENTS_PER_DAY)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this.time.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.time.end},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schedule",{get:function(){return this.event.schedule},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.event.data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.identifierType.get(this.start)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifierType",{get:function(){return this.schedule.identifierType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startDelta",{get:function(){return this.time.startDelta(this.day)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDelta",{get:function(){return this.time.endDelta(this.day)},enumerable:!0,configurable:!0}),t.prototype.getTimeBounds=function(t,e,n,i,r,o){return void 0===t&&(t=1),void 0===e&&(e=1),void 0===n&&(n=.1),void 0===i&&(i=!0),void 0===r&&(r=0),void 0===o&&(o=0),this.time.getBounds(this.day,t,e,this.col*n,i,r,o)},t.prototype.cancel=function(t){return void 0===t&&(t=!0),this.schedule.setCancelled(this.start,t),this.cancelled=t,this},t.prototype.exclude=function(t){return void 0===t&&(t=!0),this.schedule.setExcluded(this.start,t),this},t.prototype.move=function(t){return this.schedule.move(t,this.start)},t}(),R=(function(){function t(t,e,n,i,r,s,u){this.fill=!1,this.minimumSize=0,this.repeatCovers=!0,this.listTimes=!1,this.eventsOutside=!1,this.updateRows=!1,this.updateColumns=!1,this.eventSorter=null,this.parseMeta=function(t){return t},this.parseData=function(t){return t},this.selection=null,this.days=[],this.events=[],this.visible=[],this.span=new h(t,e),this.filled=new h(t,e),this.type=n,this.size=i,this.moveStart=r,this.moveEnd=s,o.isDefined(u)?this.set(u):this.refresh()}return t.prototype.set=function(e){var n=o.isDefined(e.type)&&e.type!==this.type,i=o.isDefined(e.size)&&e.size!==this.size;if(n||i){var r=o.coalesce(e.otherwiseFocus,.4999),s=o.coalesce(e.preferToday,!0),u=o.coalesce(e.size,this.size),a=o.coalesce(e.type,this.type),h=o.coalesce(e.around,this.days[Math.floor((this.days.length-1)*r)]),f=A.today();(!h||s&&this.span.matchesDay(f))&&(h=f);var c=t.TYPES[a],p=c.getStart(A.parse(h),u,r),d=c.getEnd(p,u,r);this.span.start=p,this.span.end=d,this.type=a,this.size=u,this.moveStart=c.moveStart,this.moveEnd=c.moveEnd}else if(e.around){var l=o.coalesce(e.otherwiseFocus,.4999),h=A.parse(e.around),a=this.type,u=this.size,c=t.TYPES[a],p=c.getStart(h,u,l),d=c.getEnd(p,u,l);this.span.start=p,this.span.end=d}return this.fill=o.coalesce(e.fill,this.fill),this.minimumSize=o.coalesce(e.minimumSize,this.minimumSize),this.repeatCovers=o.coalesce(e.repeatCovers,this.repeatCovers),this.listTimes=o.coalesce(e.listTimes,this.listTimes),this.eventsOutside=o.coalesce(e.eventsOutside,this.eventsOutside),this.updateRows=o.coalesce(e.updateRows,this.updateRows),this.updateColumns=o.coalesce(e.updateColumns,this.updateColumns),this.eventSorter=o.coalesce(e.eventSorter,this.eventSorter),this.parseMeta=o.coalesce(e.parseMeta,this.parseMeta),this.parseData=o.coalesce(e.parseData,this.parseData),o.isArray(e.events)&&this.setEvents(e.events,!0),e.delayRefresh||this.refresh(),this},t.prototype.withMinimumSize=function(t){return this.minimumSize=t,this.refresh(),this},t.prototype.withRepeatCovers=function(t){return this.repeatCovers=t,this.refreshEvents(),this},t.prototype.withListTimes=function(t){return this.listTimes=t,this.refreshEvents(),this},t.prototype.withEventsOutside=function(t){return this.eventsOutside=t,this.refreshEvents(),this},t.prototype.withUpdateRows=function(t,e){return void 0===e&&(e=!0),this.updateRows=t,e&&t&&this.refreshRows(),this},t.prototype.withUpdateColumns=function(t,e){return void 0===e&&(e=!0),this.updateColumns=t,e&&t&&this.refreshColumns(),this},Object.defineProperty(t.prototype,"start",{get:function(){return this.span.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.span.end},enumerable:!0,configurable:!0}),t.prototype.summary=function(t,e,n,i,r){return void 0===t&&(t=!0),void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===i&&(i=!0),void 0===r&&(r=" - "),this.span.summary(this.type,t,e,n,i,r)},t.prototype.split=function(e){var n=this;return void 0===e&&(e=1),new S(function(i){for(var r=n.start,o=n.moveEnd(n.end,e-n.size),s=0;s<n.size;s++){var u=new t(r,o,n.type,e,n.moveStart,n.moveEnd,n);if(i.act(u)===O.Stop)return;r=n.moveStart(r,e),o=n.moveEnd(o,e)}})},t.prototype.refresh=function(t){return void 0===t&&(t=A.today()),this.length=this.span.days(r.UP,!0),this.resetDays(),this.refreshCurrent(t),this.refreshSelection(),this.refreshVisible(),this.refreshEvents(),this},t.prototype.resetFilled=function(){return this.filled.start=this.fill?this.start.startOfWeek():this.start,this.filled.end=this.fill?this.end.endOfWeek():this.end,this},t.prototype.resetDays=function(){this.resetFilled();for(var t=this.days,e=this.filled,n=e.start,i=e.days(r.UP),o=Math.max(this.minimumSize,i),s=0;s<o;s++){var u=t[s];u&&u.sameDay(n)||(u=new W(n.date),s<t.length?t.splice(s,1,u):t.push(u)),u.inCalendar=this.span.contains(u),n=n.next()}return t.length>o&&t.splice(o,t.length-o),this},t.prototype.refreshVisible=function(){var t=this.filled.start,e=this.filled.end;return this.visible=this.events.filter(function(n){return n.visible&&n.schedule.matchesRange(t,e)}),this},t.prototype.refreshCurrent=function(t){return void 0===t&&(t=A.today()),this.iterateDays().iterate(function(e){e.updateCurrent(t)}),this},t.prototype.refreshSelection=function(){var t=this;return this.iterateDays().iterate(function(e){t.selection?e.updateSelected(t.selection):e.clearSelected()}),this},t.prototype.refreshEvents=function(){var t=this;return this.iterateDays().iterate(function(e){(e.inCalendar||t.eventsOutside)&&(e.events=t.eventsForDay(e,t.listTimes,t.repeatCovers))}),this.updateRows&&this.refreshRows(),this.updateColumns&&this.refreshColumns(),this},t.prototype.refreshRows=function(){var t={},e=this.listTimes;return this.iterateDays().iterate(function(n){0===n.dayOfWeek&&(t={});for(var i={},r=0,o=n.events;r<o.length;r++){var s=o[r];e&&!s.fullDay||s.id in t&&(i[s.row=t[s.id]]=!0)}for(var u=0,a=0,h=n.events;a<h.length;a++){var f=h[a];if(!(e&&!f.fullDay||f.id in t)){for(;i[u];)u++;t[f.id]=f.row=u,u++}}}),this},t.prototype.refreshColumns=function(){return this.iterateDays().iterate(function(t){for(var e=[],n=0,i=t.events;n<i.length;n++){var r=i[n];r.fullDay||(e.push({time:r.time.start.time,event:r,start:!0,parent:null}),e.push({time:r.time.end.time-1,event:r,start:!1,parent:null}))}e.sort(function(t,e){return t.time-e.time});for(var o=null,s=0,u=e;s<u.length;s++){var a=u[s];a.start?(a.parent=o,o=a):o&&(o=o.parent)}for(var h=0,f=e;h<f.length;h++){var a=f[h];a.start&&(a.event.col=a.parent?a.parent.event.col+1:0)}}),this},t.prototype.getDay=function(t){var e=A.parse(t);if(e){var n=e.start().daysBetween(this.days[0],r.DOWN,!1);return this.days[n]}return null},t.prototype.iterateDays=function(){var t=this;return new S(function(e){for(var n=t.days,i=0;i<n.length;i++)switch(e.act(n[i])){case O.Stop:return}})},t.prototype.eventsForDay=function(t,e,n,i){void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=this.eventSorter);for(var r=[],o=this.visible,s=0;s<o.length;s++)!function(i){var s=o[i],u=s.schedule,h=i*a.MAX_EVENTS_PER_DAY,f=0;u.iterateSpans(t,n).iterate(function(n,i){r.push(new T(h+f++,s,n,t)),e||i.stop()})}(s);return i&&r.sort(i),r},t.prototype.findEvent=function(t){for(var e=0,n=this.events;e<n.length;e++){var i=n[e];if(i===t||i.schedule===t||i.data===t||i.id===t)return i}return null},t.prototype.removeEvents=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=!1),t)for(var n=0,i=t;n<i.length;n++){var r=i[n];this.removeEvent(r,!0)}else this.events=[];return this.refreshVisible(),e||this.refreshEvents(),this},t.prototype.removeEvent=function(t,e){void 0===e&&(e=!1);var n=this.findEvent(t);return n&&(this.events.splice(this.events.indexOf(n),1),this.refreshVisible(),e||this.refreshEvents()),this},t.prototype.addEvent=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i=w.event(t,this.parseData,this.parseMeta);if(!e){if(this.findEvent(i))return this}return this.events.push(i),this.refreshVisible(),n||this.refreshEvents(),this},t.prototype.addEvents=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);for(var i=0,r=t;i<r.length;i++){var o=r[i];this.addEvent(o,e,!0)}return n||this.refreshEvents(),this},t.prototype.setEvents=function(t,e){void 0===e&&(e=!1);for(var n=[],i=0;i<t.length;i++){var r=w.event(t[i],this.parseData,this.parseMeta);r&&n.push(r)}return this.events=n,this.refreshVisible(),e||this.refreshEvents(),this},t.prototype.select=function(t,e){return void 0===e&&(e=t),this.selection=new h(t,e),this.refreshSelection(),this},t.prototype.unselect=function(){return this.selection=null,this.refreshSelection(),this},t.prototype.move=function(t,e){return void 0===t&&(t=this.size),void 0===e&&(e=!1),this.span.start=this.moveStart(this.start,t),this.span.end=this.moveEnd(this.end,t),e||this.refresh(),this},t.prototype.next=function(t,e){return void 0===t&&(t=this.size),void 0===e&&(e=!1),this.move(t,e)},t.prototype.prev=function(t,e){return void 0===t&&(t=this.size),void 0===e&&(e=!1),this.move(-t,e)},t.prototype.toInput=function(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=function(t){return t}),void 0===n&&(n=function(t){return t});var i={};i.type=this.type,i.size=this.size,i.fill=this.fill,i.minimumSize=this.minimumSize,i.repeatCovers=this.repeatCovers,i.listTimes=this.listTimes,i.eventsOutside=this.eventsOutside,i.updateRows=this.updateRows,i.updateColumns=this.updateColumns,i.around=t?this.span.start.time:this.span.start,i.events=[];for(var r=0,s=this.events;r<s.length;r++){var u=s[r];if(t){var a={};o.isDefined(u.id)&&(a.id=u.id),o.isDefined(u.data)&&(a.data=e(u.data)),u.visible||(a.visible=u.visible),a.schedule=u.schedule.toInput();var h=a.schedule.meta;if(h)for(var f in h)h[f]=n(h[f]);i.events.push(a)}else i.events.push(u)}return i},t.fromInput=function(e){var n=A.today();return new t(n,n,null,1,null,null,e)},t.forType=function(e,n,i,r,o){void 0===n&&(n=1),void 0===i&&(i=A.today()),void 0===r&&(r=.49999);var s=this.TYPES[e],u=s.getStart(i,n,r);return new t(u,s.getEnd(u,n,r),e,n,s.moveStart,s.moveEnd,o||s.defaultInput)},t.days=function(t,e,n,i){return void 0===t&&(t=1),void 0===e&&(e=A.today()),void 0===n&&(n=.4999),this.forType(s.DAY,t,e,n,i)},t.weeks=function(t,e,n,i){return void 0===t&&(t=1),void 0===e&&(e=A.today()),void 0===n&&(n=.4999),this.forType(s.WEEK,t,e,n,i)},t.months=function(t,e,n,i){return void 0===t&&(t=1),void 0===e&&(e=A.today()),void 0===n&&(n=.4999),this.forType(s.MONTH,t,e,n,i)},t.years=function(t,e,n,i){return void 0===t&&(t=1),void 0===e&&(e=A.today()),void 0===n&&(n=.4999),this.forType(s.YEAR,t,e,n,i)},t.TYPES=(E={},E[s.DAY]={getStart:function(t,e,n){return t.start().relativeDays(-Math.floor(e*n))},getEnd:function(t,e,n){return t.relativeDays(e-1).end()},moveStart:function(t,e){return t.relativeDays(e)},moveEnd:function(t,e){return t.relativeDays(e)},defaultInput:void 0},E[s.WEEK]={getStart:function(t,e,n){return t.start().startOfWeek().relativeWeeks(-Math.floor(e*n))},getEnd:function(t,e,n){return t.relativeWeeks(e-1).endOfWeek()},moveStart:function(t,e){return t.relativeWeeks(e)},moveEnd:function(t,e){return t.relativeWeeks(e)},defaultInput:void 0},E[s.MONTH]={getStart:function(t,e,n){return t.start().startOfMonth().relativeMonths(-Math.floor(e*n))},getEnd:function(t,e,n){return t.relativeMonths(e-1).endOfMonth()},moveStart:function(t,e){return t.relativeMonths(e)},moveEnd:function(t,e){return t.startOfMonth().relativeMonths(e).endOfMonth()},defaultInput:{fill:!0}},E[s.YEAR]={getStart:function(t,e,n){return t.start().startOfYear().relativeYears(-Math.floor(e*n))},getEnd:function(t,e,n){return t.relativeYears(e-1).endOfYear()},moveStart:function(t,e){return t.relativeYears(e)},moveEnd:function(t,e){return t.relativeYears(e)},defaultInput:{fill:!0}},E),t}()),b=function(){function t(){}return t.JANUARY=0,t.FEBRUARY=1,t.MARCH=2,t.APRIL=3,t.MAY=4,t.JUNE=5,t.JULY=6,t.AUGUST=7,t.SEPTEMBER=8,t.OCTOBER=9,t.NOVEMBER=10,t.DECEMBER=11,t.LIST=[t.JANUARY,t.FEBRUARY,t.MARCH,t.APRIL,t.MAY,t.JUNE,t.JULY,t.AUGUST,t.SEPTEMBER,t.OCTOBER,t.NOVEMBER,t.DECEMBER],t}(),L=function(){function t(){}return t.SUNDAY=0,t.MONDAY=1,t.TUESDAY=2,t.WEDNESDAY=3,t.THURSDAY=4,t.FRIDAY=5,t.SATURDAY=6,t.LIST=[t.SUNDAY,t.MONDAY,t.TUESDAY,t.WEDNESDAY,t.THURSDAY,t.FRIDAY,t.SATURDAY],t.WEEK=[t.MONDAY,t.TUESDAY,t.WEDNESDAY,t.THURSDAY,t.FRIDAY],t.ENDS=[t.SATURDAY,t.SUNDAY],t}(),C=function(){function t(t,e,n,i){this.name=t,this.listed=e,this.describe=n,this.rules=i}return t.prototype.apply=function(t,e){return t instanceof k?(this.applyGeneric(e,function(e,n){return t.setFrequency(e,n)},function(e){return t.setFrequency(e)}),t.updateChecks()):this.applyGeneric(e,function(e,n){return t[e]=n},function(e){return delete t[e]}),t},t.prototype.applyGeneric=function(e,n,i){for(var r=0,s=t.PROPS;r<s.length;r++){var u=s[r],a=this.rules[u];1===a&&n(u,[e[u]]),o.isArray(a)&&n(u,a),o.isDefined(a)||i(u)}},t.prototype.isMatch=function(t,e){return t instanceof k?this.isMatchGeneric(function(e){return t[e].input},e):this.isMatchGeneric(function(e){return t[e]},e)},t.prototype.isMatchGeneric=function(e,n){for(var i=o.isDefined(n),r=0,s=t.PROPS;r<s.length;r++){var u=s[r],a=this.rules[u],h=e(u);if(!1!==a){if(!0===a&&!h)return!1;if(!o.isDefined(a)&&h)return!1;if(o.isNumber(a)){if(!o.isArray(h)||h.length!==a)return!1;if(i&&-1===h.indexOf(n[u]))return!1}if(o.isArray(a)){if(!o.isArray(h))return!1;if(a.length!==h.length)return!1;for(var f=0;f<a.length;f++)if(a[f]!==h[f])return!1;if(i&&-1===a.indexOf(n[u]))return!1}if(o.isObject(a)){if(!o.isObject(h))return!1;var c=a.offset||0;if((h.offset||0)!==c||h.every!==a.every)return!1;if(i&&n[u]%a.every!==c)return!1}}}return!0},t.withName=function(t){return U[t]},t.findMatch=function(t,e,n){void 0===e&&(e=!0);for(var i=0,r=F;i<r.length;i++){var o=r[i];if((o.listed||!e)&&o.isMatch(t,n))return o}return null},t.PROPS=["dayOfWeek","dayOfMonth","lastDayOfMonth","dayOfYear","month","week","year","weekOfYear","weekspanOfYear","fullWeekOfYear","lastWeekspanOfYear","lastFullWeekOfYear","weekOfMonth","weekspanOfMonth","fullWeekOfMonth","lastWeekspanOfMonth","lastFullWeekOfMonth"],t}(),F=[new C("none",!0,function(t){return"Does not repeat"},{year:1,month:1,dayOfMonth:1}),new C("daily",!0,function(t){return"Daily"},{}),new C("weekly",!0,function(t){return"Weekly on "+t.format("dddd")},{dayOfWeek:1}),new C("monthlyWeek",!0,function(t){return"Monthly on the "+M.CACHE[t.weekspanOfMonth+1]+" "+t.format("dddd")},{dayOfWeek:1,weekspanOfMonth:1}),new C("annually",!0,function(t){return"Annually on "+t.format("MMMM Do")},{month:1,dayOfMonth:1}),new C("annuallyMonthWeek",!0,function(t){return"Annually on the "+M.CACHE[t.weekspanOfMonth+1]+" "+t.format("dddd")+" of "+t.format("MMMM")},{month:1,dayOfWeek:1,weekspanOfMonth:1}),new C("weekday",!0,function(t){return"Every weekday (Monday to Friday)"},{dayOfWeek:[L.MONDAY,L.TUESDAY,L.WEDNESDAY,L.THURSDAY,L.FRIDAY]}),new C("monthly",!0,function(t){return"Monthly on the "+t.format("Do")+" day"},{dayOfMonth:1}),new C("custom",!0,function(t){return"Custom..."},{dayOfWeek:!1,dayOfMonth:!1,lastDayOfMonth:!1,dayOfYear:!1,year:!1,month:!1,week:!1,weekOfYear:!1,weekspanOfYear:!1,fullWeekOfYear:!1,lastWeekspanOfYear:!1,lastFullWeekOfYear:!1,weekOfMonth:!1,weekspanOfMonth:!1,fullWeekOfMonth:!1,lastWeekspanOfMonth:!1,lastFullWeekOfMonth:!1})],U={},H=0,q=F;H<q.length;H++){var x=q[H];U[x.name]=x}var B=function(){function t(){}return t.Start=function(t,e){return t.time.start.time-e.time.start.time},t.End=function(t,e){return t.time.end.time-e.time.end.time},t.FullDay=function(t,e){return(t.fullDay?0:1)-(e.fullDay?0:1)},t.Duration=function(t,e){return t.time.millis()-e.time.millis()},t.Desc=function(t){return function(e,n){return t(n,e)}},t.Alphabetical=function(t){return function(e,n){var i=t(e.event)||"",r=t(n.event)||"";return i.localeCompare(r)}},t.Ordered=function(t){return function(e,n){return t(e.event)-t(n.event)}},t.List=function(t){return function(e,n){for(var i=0,r=t;i<r.length;i++){var o=r[i],s=o(e,n);if(0!==s)return s}return 0}},t}();n.d(e,"Calendar",function(){return R}),n.d(e,"CalendarDay",function(){return W}),n.d(e,"CalendarEvent",function(){return T}),n.d(e,"Event",function(){return Y}),n.d(e,"Constants",function(){return a}),n.d(e,"Day",function(){return A}),n.d(e,"DaySpan",function(){return h}),n.d(e,"Functions",function(){return o}),n.d(e,"Identifier",function(){return c}),n.d(e,"IteratorAction",function(){return O}),n.d(e,"Iterator",function(){return S}),n.d(e,"Month",function(){return b}),n.d(e,"Op",function(){return r}),n.d(e,"operate",function(){return i}),n.d(e,"Parse",function(){return w}),n.d(e,"Pattern",function(){return C}),n.d(e,"Patterns",function(){return F}),n.d(e,"PatternMap",function(){return U}),n.d(e,"Schedule",function(){return k}),n.d(e,"ScheduleModifier",function(){return I}),n.d(e,"Sorts",function(){return B}),n.d(e,"Suffix",function(){return M}),n.d(e,"Time",function(){return g}),n.d(e,"Units",function(){return s}),n.d(e,"Weekday",function(){return L})}])});
//# sourceMappingURL=dayspan.min.js.map