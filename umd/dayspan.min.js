!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment")):"function"==typeof define&&define.amd?define("ds",["moment"],e):"object"==typeof exports?exports.ds=e(require("moment")):t.ds=e(t.moment)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(e,n){e.exports=t},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";function r(t,e,n){if(void 0===n&&(n=!1),isFinite(t))switch(n&&(t=Math.abs(t)),e){case i.NONE:return t;case i.FLOOR:return Math.floor(t);case i.CEIL:return Math.ceil(t);case i.ROUND:return Math.round(t);case i.TRUNCATE:case i.DOWN:return t<0?Math.ceil(t):Math.floor(t);case i.UP:return t<0?Math.floor(t):Math.ceil(t)}return t}Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(){}return t.isArray=function(t){return t instanceof Array},t.isString=function(t){return"string"==typeof t},t.isNumber=function(t){return isFinite(t)},t.isObject=function(t){return!this.isArray(t)&&"object"==typeof t},t.isDefined=function(t){return void 0!==t},t.isFrequencyValueEvery=function(t){return this.isObject(t)&&this.isNumber(t.every)},t.isFrequencyValueOneOf=function(t){return this.isArray(t)&&t.length>0},t.coalesce=function(t,e,n){return this.isDefined(t)?t:this.isDefined(e)?e:n},t.pad=function(t,e,n,r){for(;t.length<e;)r?t=n+t:t+=n;return t},t.padNumber=function(t,e,n){return void 0===n&&(n=e),this.pad(t+"",e,"0",!0).substring(0,n)},t}(),s=function(){function t(){}return t.MILLIS_IN_SECOND=1e3,t.MILLIS_IN_MINUTE=6e4,t.MILLIS_IN_HOUR=36e5,t.MILLIS_IN_DAY=864e5,t.MILLIS_IN_WEEK=6048e5,t.DAYS_IN_WEEK=7,t.MONTHS_IN_YEAR=12,t.HOURS_IN_DAY=24,t.MONTH_MIN=0,t.MONTH_MAX=11,t.DAY_MIN=1,t.DAY_MAX=31,t.HOUR_MIN=0,t.HOUR_MAX=23,t.MINUTE_MIN=0,t.MINUTE_MAX=59,t.SECOND_MIN=0,t.SECOND_MAX=59,t.MILLIS_MIN=0,t.MILLIS_MAX=999,t.WEEKDAY_MIN=0,t.WEEKDAY_MAX=6,t.START_NONE=0,t.END_NONE=0,t.DURATION_NONE=0,t.DURATION_DEFAULT_UNIT="minutes",t.MAX_EVENTS_PER_DAY=24,t.WEEK_OF_MONTH_MINIMUM_WEEKDAY=4,t}();!function(t){t[t.NONE=0]="NONE",t[t.FLOOR=1]="FLOOR",t[t.CEIL=2]="CEIL",t[t.ROUND=3]="ROUND",t[t.TRUNCATE=4]="TRUNCATE",t[t.UP=5]="UP",t[t.DOWN=6]="DOWN"}(i=i||(i={}));var u;!function(t){t[t.DAY=0]="DAY",t[t.WEEK=1]="WEEK",t[t.MONTH=2]="MONTH",t[t.YEAR=3]="YEAR"}(u=u||(u={}));var a,h=function(){function t(t,e){this.start=t,this.end=e}return Object.defineProperty(t.prototype,"isPoint",{get:function(){return this.start.time===this.end.time},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){return t.time>=this.start.time&&t.time<=this.end.time},t.prototype.matchesDay=function(t){return this.contains(t)||t.sameDay(this.start)||t.sameDay(this.end)},t.prototype.matchesWeek=function(t){return this.contains(t)||t.sameWeek(this.start)||t.sameWeek(this.end)},t.prototype.matchesMonth=function(t){return this.contains(t)||t.sameMonth(this.start)||t.sameMonth(this.end)},t.prototype.matchesYear=function(t){return this.contains(t)||t.sameYear(this.start)||t.sameYear(this.end)},t.prototype.millis=function(t,e){return void 0===t&&(t=i.DOWN),void 0===e&&(e=!0),this.start.millisBetween(this.end,t,e)},t.prototype.seconds=function(t,e){return void 0===t&&(t=i.DOWN),void 0===e&&(e=!0),this.start.secondsBetween(this.end,t,e)},t.prototype.minutes=function(t,e){return void 0===t&&(t=i.DOWN),void 0===e&&(e=!0),this.start.minutesBetween(this.end,t,e)},t.prototype.hours=function(t,e){return void 0===t&&(t=i.DOWN),void 0===e&&(e=!0),this.start.hoursBetween(this.end,t,e)},t.prototype.days=function(t,e){return void 0===t&&(t=i.DOWN),void 0===e&&(e=!0),this.start.daysBetween(this.end,t,e)},t.prototype.weeks=function(t,e){return void 0===t&&(t=i.DOWN),void 0===e&&(e=!0),this.start.weeksBetween(this.end,t,e)},t.prototype.months=function(t,e){return void 0===t&&(t=i.DOWN),void 0===e&&(e=!0),this.start.monthsBetween(this.end,t,e)},t.prototype.years=function(t,e){return void 0===t&&(t=i.DOWN),void 0===e&&(e=!0),this.start.yearsBetween(this.end,t,e)},t.prototype.summary=function(e,n,r,i,o,s){void 0===n&&(n=!0),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===o&&(o=!0),void 0===s&&(s=" - ");var u=t.SUMMARY_FORMATS[e],a=y.today(),h=!o||!this.start.sameYear(a),f=!o||!this.end.sameYear(a),d=this.start.format(u(r,n,h)),c=this.end.format(u(r,n,f)),p=d;return d!==c?(i||(p=this.start.format(u(r,n,!this.start.sameYear(this.end)))),p+=s,p+=c):p=d,p},t.prototype.intersects=function(t){return!(this.end.time<t.start.time||this.start.time>t.end.time)},t.prototype.intersection=function(e){var n=Math.max(this.start.time,e.start.time),r=Math.min(this.end.time,e.end.time);return n>=r?null:new t(y.unix(n),y.unix(r))},t.point=function(e){return new t(e,e)},t.SUMMARY_FORMATS=(a={},a[u.DAY]=function(t,e,n){return(e?t?"ddd, ":"dddd, ":"")+(t?"MMM ":"MMMM ")+"Do"+(n?" YYYY":"")},a[u.WEEK]=function(t,e,n){return(e?t?"ddd, ":"dddd, ":"")+(t?"MMM ":"MMMM ")+"Do"+(n?" YYYY":"")},a[u.MONTH]=function(t,e,n){return(t?"MMM":"MMMM")+(n?" YYYY":"")},a[u.YEAR]=function(t,e,n){return n?"YYYY":""},a),t}(),f=n(0),d=(n.n(f),function(){function t(t){o.isDefined(t)&&this.set(t)}return Object.defineProperty(t.prototype,"lastTime",{get:function(){return this.times[this.times.length-1]},enumerable:!0,configurable:!0}),t.prototype.set=function(t){return p.schedule(t,this),this},t.prototype.updateDurationInDays=function(){return this.durationInDays=this.lastTime?Math.max(0,Math.ceil(f.duration(this.lastTime.toMilliseconds(),"milliseconds").add(this.duration,this.durationUnit).subtract(1,"day").asDays())):0,this},t.prototype.matchesSpan=function(t){return(null===this.start||t.isSameOrAfter(this.start))&&(null===this.end||t.isBefore(this.endWithDuration))},t.prototype.matchesRange=function(t,e){return(null===this.start||t.isSameOrBefore(this.start))&&(null===this.end||e.isBefore(this.endWithDuration))},t.prototype.isExcluded=function(t){return!!this.exclude[t.dayIdentifier]},t.prototype.isIncluded=function(t){return!this.exclude[t.dayIdentifier]},t.prototype.matchesDay=function(t){return this.isIncluded(t)&&this.matchesSpan(t)&&this.dayOfWeek(t.dayOfWeek)&&this.dayOfMonth(t.dayOfMonth)&&this.dayOfYear(t.dayOfYear)&&this.year(t.year)&&this.month(t.month)&&this.week(t.week)&&this.weekOfYear(t.weekOfYear)&&this.weekspanOfYear(t.weekspanOfYear)&&this.fullWeekOfYear(t.fullWeekOfYear)&&this.weekOfMonth(t.weekOfMonth)&&this.weekspanOfMonth(t.weekspanOfMonth)&&this.fullWeekOfMonth(t.fullWeekOfMonth)},t.prototype.coversDay=function(t){for(var e=this.durationInDays;e>=0;){if(this.matchesDay(t))return!0;t=t.prev(),e--}return!1},t.prototype.nextDay=function(t,e){void 0===e&&(e=366);for(var n=0;n<e;n++)if(t=t.next(),this.matchesDay(t))return t;return null},t.prototype.prevDay=function(t,e){void 0===e&&(e=366);for(var n=0;n<e;n++)if(t=t.prev(),this.matchesDay(t))return t;return null},t.prototype.matchesTime=function(t){if(!this.matchesDay(t))return!1;for(var e=0,n=this.times;e<n.length;e++){var r=n[e];if(t.sameTime(r))return!0}return!1},t.prototype.isFullDay=function(){return 0===this.times.length||this.duration===s.DURATION_NONE},t.prototype.getSpansOver=function(t){var e=[],n=t.start();if(this.isFullDay())this.matchesDay(t)&&e.push(h.point(n));else for(var r=this.durationInDays;r>=0;){if(this.matchesDay(t))for(var i=0,o=this.times;i<o.length;i++){var s=o[i],u=t.withTime(s),a=u.add(this.duration,this.durationUnit),f=new h(u,a);f.matchesDay(n)&&e.push(f)}t=t.prev(),r--}return e},t.prototype.getSpanOver=function(t){var e=t.start();if(this.isFullDay())return h.point(e);for(var n=this.durationInDays;n>=0;){if(this.matchesDay(t))return h.point(t);t=t.prev(),n--}return null},t.prototype.getSpansOn=function(t,e){void 0===e&&(e=!1);var n=[];if(e&&!this.matchesDay(t))return n;var r=t.start();if(this.isFullDay())n.push(h.point(r));else for(var i=0,o=this.times;i<o.length;i++){var s=o[i],u=t.withTime(s),a=u.add(this.duration,this.durationUnit),f=new h(u,a);n.push(f)}return n},t.prototype.toInput=function(t){void 0===t&&(t=!1);var e={},n=[],r=[];for(var i in this.exclude){var o=parseInt(i);n.push(t?y.fromDayIdentifier(o):o)}for(var u=0,a=this.times;u<a.length;u++){var h=a[u];r.push(h.toString())}return this.start&&(e.start=t?this.start:this.start.time),this.end&&(e.end=t?this.end:this.end.time),this.duration!==s.DURATION_NONE&&(e.duration=this.duration),this.durationUnit!==s.DURATION_DEFAULT_UNIT&&(e.durationUnit=this.durationUnit),this.dayOfWeek.input&&(e.dayOfWeek=this.dayOfWeek.input),this.dayOfMonth.input&&(e.dayOfMonth=this.dayOfMonth.input),this.dayOfYear.input&&(e.dayOfYear=this.dayOfYear.input),this.month.input&&(e.month=this.month.input),this.week.input&&(e.week=this.week.input),this.weekOfYear.input&&(e.weekOfYear=this.weekOfYear.input),this.weekspanOfYear.input&&(e.weekspanOfYear=this.weekspanOfYear.input),this.fullWeekOfYear.input&&(e.fullWeekOfYear=this.fullWeekOfYear.input),this.weekOfMonth.input&&(e.weekOfMonth=this.weekOfMonth.input),this.weekspanOfMonth.input&&(e.weekspanOfMonth=this.weekspanOfMonth.input),this.fullWeekOfMonth.input&&(e.fullWeekOfMonth=this.fullWeekOfMonth.input),this.year.input&&(e.year=this.year.input),r.length&&(e.times=r),n.length&&(e.exclude=n),e},t}()),c=function(){function t(t,e,n,r){void 0===e&&(e=s.MINUTE_MIN),void 0===n&&(n=s.SECOND_MIN),void 0===r&&(r=s.MILLIS_MIN),this.hour=t,this.minute=e,this.second=n,this.millisecond=r}return t.prototype.format=function(e){for(var n=t.FORMATTERS,r="",i=0;i<e.length;i++){for(var o=!1,s=0;s<n.length&&!o;s++){var u=n[s],a=e.substring(i,i+u.size);if(a.length===u.size){var h=u.formats[a];h&&(r+=h(this),i+=u.size-1,o=!0)}}o||(r+=e.charAt(i))}return r},t.prototype.toMilliseconds=function(){return this.hour*s.MILLIS_IN_HOUR+this.minute*s.MILLIS_IN_MINUTE+this.second*s.MILLIS_IN_SECOND+this.millisecond},t.prototype.toString=function(){return this.millisecond?this.format("HH:mm:ss.SSS"):this.second?this.format("HH:mm:ss"):this.minute?this.format("HH:mm"):this.format("HH")},t.prototype.toIdentifer=function(){return this.hour+100*this.minute+1e4*this.second+1e7*this.millisecond},t.prototype.toObject=function(){var t={hour:this.hour};return this.minute&&(t.minute=this.minute),this.second&&(t.second=this.second),this.millisecond&&(t.millisecond=this.millisecond),t},t.parse=function(t){return p.time(t)},t.fromString=function(t){var e=this.REGEX.exec(t);if(!e)return null;var n=parseInt(e[1])||0,r=parseInt(e[2])||0,i=parseInt(e[3])||0,o=parseInt(e[4])||0;return this.build(n,r,i,o)},t.fromIdentifier=function(t){var e=t%100,n=Math.floor(t/100)%100,r=Math.floor(t/1e4)%100,i=Math.floor(t/1e7)%1e3;return this.build(e,n,r,i)},t.build=function(e,n,r,i){return void 0===n&&(n=s.MINUTE_MIN),void 0===r&&(r=s.SECOND_MIN),void 0===i&&(i=s.MILLIS_MIN),new t(e,n,r,i)},t.REGEX=/^(\d\d?):?(\d\d)?:?(\d\d)?\.?(\d\d\d)?$/,t.FORMATTERS=[{size:3,formats:{SSS:function(t){return o.padNumber(t.millisecond,3)}}},{size:2,formats:{HH:function(t){return o.padNumber(t.hour,2)},hh:function(t){return o.padNumber(t.hour%12||12,2)},kk:function(t){return o.padNumber(t.hour+1,2)},mm:function(t){return o.padNumber(t.minute,2)},ss:function(t){return o.padNumber(t.second,2)},SS:function(t){return o.padNumber(t.millisecond,3,2)}}},{size:1,formats:{A:function(t){return t.hour<12?"AM":"PM"},a:function(t){return t.hour<12?"am":"pm"},H:function(t){return t.hour+""},h:function(t){return(t.hour%12||12)+""},k:function(t){return t.hour+1+""},m:function(t){return t.minute+""},s:function(t){return t.second+""},S:function(t){return o.padNumber(t.millisecond,3,1)}}}],t}(),p=function(){function t(){}return t.frequency=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=0);var r=function(t){return t%e===n};if(o.isFrequencyValueEvery(t)){var i=t.offset||0,s=t.every;r=function(t){return t%s===i}}if(o.isFrequencyValueOneOf(t)){for(var u={},a=0;a<t.length;a++)u[t[a]]=!0;r=function(t){return!!u[t]}}return r.input=t,r},t.utc=function(t,e){return o.isNumber(t)?t:t instanceof y?t.time:e},t.day=function(t){return o.isNumber(t)?y.unix(t):o.isString(t)?y.parse(t):t instanceof y?t:o.isArray(t)?y.fromArray(t):o.isObject(t)?y.fromObject(t):!0===t?y.today():null},t.time=function(t){return o.isNumber(t)?c.fromIdentifier(t):o.isString(t)?c.fromString(t):o.isObject(t)&&o.isNumber(t.hour)?new c(t.hour,t.minute,t.second,t.millisecond):null},t.times=function(t){var e=[];if(o.isArray(t))for(var n=0,r=t;n<r.length;n++){var i=r[n],s=this.time(i);s&&e.push(s)}return e},t.exclusions=function(t){var e={};if(o.isArray(t))for(var n=0,r=t;n<r.length;n++){var i=r[n];if(o.isNumber(i))e[i]=!0;else{var s=this.day(i);s&&(e[s.dayIdentifier]=!0)}}return e},t.schedule=function(t,e){void 0===e&&(e=new d);var n=this.day(t.on);return n&&(t.start=n.start(),t.end=n.end(),t.year=[n.year],t.month=[n.month],t.dayOfMonth=[n.dayOfMonth]),e.duration=o.coalesce(t.duration,s.DURATION_NONE),e.durationUnit=o.coalesce(t.durationUnit,s.DURATION_DEFAULT_UNIT),e.start=this.day(t.start),e.end=this.day(t.end),e.endWithDuration=e.end?e.end.add(e.duration,e.durationUnit):null,e.dayOfWeek=this.frequency(t.dayOfWeek),e.dayOfMonth=this.frequency(t.dayOfMonth),e.dayOfYear=this.frequency(t.dayOfYear),e.month=this.frequency(t.month),e.week=this.frequency(t.week),e.weekOfYear=this.frequency(t.weekOfYear),e.weekspanOfYear=this.frequency(t.weekspanOfYear),e.fullWeekOfYear=this.frequency(t.fullWeekOfYear),e.weekOfMonth=this.frequency(t.weekOfMonth),e.weekspanOfMonth=this.frequency(t.weekspanOfMonth),e.fullWeekOfMonth=this.frequency(t.fullWeekOfMonth),e.year=this.frequency(t.year),e.times=this.times(t.times),e.exclude=this.exclusions(t.exclude),e.updateDurationInDays(),e},t.calendarSchedule=function(t){return t.schedule instanceof d?t:{schedule:this.schedule(t.schedule),event:t.event}},t.cron=function(t,e){return void 0===e&&(e=new d),e},t}(),l=n(0),y=(n.n(l),function(){function t(e){this.date=e,this.time=e.unix(),this.millis=e.millisecond(),this.seconds=e.second(),this.minute=e.minute(),this.hour=e.hour(),this.month=e.month(),this.year=e.year(),this.quarter=e.quarter(),this.dayOfWeek=e.day(),this.dayOfMonth=e.date(),this.dayOfYear=e.dayOfYear(),this.week=e.week(),this.weekOfYear=t.getWeekOfYear(e),this.weekspanOfYear=t.getWeekspanOfYear(e),this.fullWeekOfYear=t.getFullWeekOfYear(e),this.weekOfMonth=t.getWeekOfMonth(e),this.weekspanOfMonth=t.getWeekspanOfMonth(e),this.fullWeekOfMonth=t.getFullWeekOfMonth(e),this.dayIdentifier=t.getDayIdentifier(e),this.weekIdentifier=t.getWeekIdentifier(e),this.monthIdentifier=t.getMonthIdentifier(e),this.quarterIdentifier=t.getQuarterIdentifier(e)}return t.prototype.sameDay=function(t){return this.dayIdentifier===t.dayIdentifier},t.prototype.sameMonth=function(t){return this.monthIdentifier===t.monthIdentifier},t.prototype.sameWeek=function(t){return this.weekIdentifier===t.weekIdentifier},t.prototype.sameYear=function(t){return this.year===t.year},t.prototype.sameQuarter=function(t){return this.quarterIdentifier===t.quarterIdentifier},t.prototype.sameHour=function(t){return this.dayIdentifier===t.dayIdentifier&&this.hour===t.hour},t.prototype.sameMinute=function(t){return this.dayIdentifier===t.dayIdentifier&&this.hour===t.hour&&this.minute===t.minute},t.prototype.sameTime=function(t){return this.hour===t.hour&&this.minute===t.minute&&this.seconds===t.second&&this.millis===t.millisecond},t.prototype.isBefore=function(t,e){return this.date.isBefore(t.date,e)},t.prototype.isSameOrBefore=function(t,e){return this.date.isSameOrBefore(t.date,e)},t.prototype.isAfter=function(t,e){return this.date.isAfter(t.date,e)},t.prototype.isSameOrAfter=function(t,e){return this.date.isSameOrAfter(t.date,e)},t.prototype.max=function(t){return this.date.isAfter(t.date)?this:t},t.prototype.min=function(t){return this.date.isBefore(t.date)?this:t},t.prototype.millisBetween=function(t,e,n){return void 0===e&&(e=i.DOWN),void 0===n&&(n=!0),r(this.date.diff(t.date,"milliseconds",!0),e,n)},t.prototype.secondsBetween=function(t,e,n){return void 0===e&&(e=i.DOWN),void 0===n&&(n=!0),r(this.date.diff(t.date,"seconds",!0),e,n)},t.prototype.minutesBetween=function(t,e,n){return void 0===e&&(e=i.DOWN),void 0===n&&(n=!0),r(this.date.diff(t.date,"minutes",!0),e,n)},t.prototype.hoursBetween=function(t,e,n){return void 0===e&&(e=i.DOWN),void 0===n&&(n=!0),r(this.date.diff(t.date,"hours",!0),e,n)},t.prototype.daysBetween=function(t,e,n){return void 0===e&&(e=i.DOWN),void 0===n&&(n=!0),r(this.date.diff(t.date,"days",!0),e,n)},t.prototype.weeksBetween=function(t,e,n){return void 0===e&&(e=i.DOWN),void 0===n&&(n=!0),r(this.date.diff(t.date,"weeks",!0),e,n)},t.prototype.monthsBetween=function(t,e,n){return void 0===e&&(e=i.DOWN),void 0===n&&(n=!0),r(this.date.diff(t.date,"months",!0),e,n)},t.prototype.yearsBetween=function(t,e,n){return void 0===e&&(e=i.DOWN),void 0===n&&(n=!0),r(this.date.diff(t.date,"years",!0),e,n)},t.prototype.isBetween=function(t,e,n){return void 0===n&&(n=!0),this.date.isBetween(t.date,e.date,null,n?"[]":"[)")},t.prototype.mutate=function(e){var n=this.toMoment();return e(n),new t(n)},t.prototype.add=function(t,e){return this.mutate(function(n){return n.add(t,e)})},t.prototype.relative=function(t){return this.mutate(function(e){return e.add(t,"milliseconds")})},t.prototype.relativeDays=function(t){return this.mutate(function(e){return e.add(t,"days")})},t.prototype.prev=function(t){return void 0===t&&(t=1),this.relativeDays(-t)},t.prototype.next=function(t){return void 0===t&&(t=1),this.relativeDays(t)},t.prototype.withDayOfMonth=function(t){return this.mutate(function(e){return e.date(t)})},t.prototype.withDayOfWeek=function(t){return this.mutate(function(e){return e.day(t)})},t.prototype.withDayOfYear=function(t){return this.mutate(function(e){return e.dayOfYear(t)})},t.prototype.withMonth=function(t){return this.mutate(function(e){return e.month(t)})},t.prototype.relativeMonths=function(t){return this.mutate(function(e){return e.add(t,"months")})},t.prototype.prevMonth=function(t){return void 0===t&&(t=1),this.relativeMonths(-t)},t.prototype.nextMonth=function(t){return void 0===t&&(t=1),this.relativeMonths(t)},t.prototype.withWeek=function(t,e){return void 0===e&&(e=this.week),this.mutate(function(n){return n.add((t-e)*s.DAYS_IN_WEEK,"days")})},t.prototype.withWeekOfYear=function(t){return this.withWeek(t,this.weekOfYear)},t.prototype.withFullWeekOfYear=function(t){return this.withWeek(t,this.fullWeekOfYear)},t.prototype.withWeekspanOfYear=function(t){return this.withWeek(t,this.weekspanOfYear)},t.prototype.withWeekOfMonth=function(t){return this.withWeek(t,this.weekOfMonth)},t.prototype.withWeekspanOfMonth=function(t){return this.withWeek(t,this.weekspanOfMonth)},t.prototype.withFullWeekOfMonth=function(t){return this.withWeek(t,this.fullWeekOfMonth)},t.prototype.relativeWeeks=function(t){return this.mutate(function(e){return e.add(t,"weeks")})},t.prototype.prevWeek=function(t){return void 0===t&&(t=1),this.relativeWeeks(-t)},t.prototype.nextWeek=function(t){return void 0===t&&(t=1),this.relativeWeeks(t)},t.prototype.withYear=function(t){return this.mutate(function(e){return e.year(t)})},t.prototype.relativeYears=function(t){return this.mutate(function(e){return e.add(t,"year")})},t.prototype.prevYear=function(t){return void 0===t&&(t=1),this.relativeYears(-t)},t.prototype.nextYear=function(t){return void 0===t&&(t=1),this.relativeYears(t)},t.prototype.withHour=function(t){return this.mutate(function(e){return e.hour(t)})},t.prototype.relativeHours=function(t){return this.mutate(function(e){return e.add(t,"hours")})},t.prototype.prevHour=function(t){return void 0===t&&(t=1),this.relativeHours(-t)},t.prototype.nextHour=function(t){return void 0===t&&(t=1),this.relativeHours(t)},t.prototype.withTimes=function(t,e,n,r){return void 0===t&&(t=s.HOUR_MIN),void 0===e&&(e=s.MINUTE_MIN),void 0===n&&(n=s.SECOND_MIN),void 0===r&&(r=s.MILLIS_MIN),this.mutate(function(i){return i.set({hour:t,minute:e,second:n,millisecond:r})})},t.prototype.withTime=function(t){return this.withTimes(t.hour,t.minute,t.second,t.millisecond)},t.prototype.start=function(){return this.mutate(function(t){return t.startOf("day")})},t.prototype.isStart=function(){return this.hour===s.HOUR_MIN&&this.minute===s.MINUTE_MIN&&this.seconds===s.SECOND_MIN&&this.millis===s.MILLIS_MIN},t.prototype.end=function(t){return void 0===t&&(t=!0),t?this.mutate(function(t){return t.endOf("day")}):this.mutate(function(t){return t.startOf("day").add(1,"day")})},t.prototype.isEnd=function(){return this.hour===s.HOUR_MAX&&this.minute===s.MINUTE_MAX&&this.seconds===s.SECOND_MAX&&this.millis===s.MILLIS_MAX},t.prototype.startOfHour=function(){return this.mutate(function(t){return t.startOf("hour")})},t.prototype.isStartOfHour=function(){return this.minute===s.MINUTE_MIN&&this.seconds===s.SECOND_MIN&&this.millis===s.MILLIS_MIN},t.prototype.endOfHour=function(t){return void 0===t&&(t=!0),t?this.mutate(function(t){return t.endOf("hour")}):this.mutate(function(t){return t.startOf("hour").add(1,"hour")})},t.prototype.isEndOfHour=function(){return this.minute===s.MINUTE_MAX&&this.seconds===s.SECOND_MAX&&this.millis===s.MILLIS_MAX},t.prototype.startOfWeek=function(){return this.mutate(function(t){return t.startOf("week")})},t.prototype.isStartOfWeek=function(){return this.dayOfWeek===s.WEEKDAY_MIN},t.prototype.endOfWeek=function(t){return void 0===t&&(t=!0),t?this.mutate(function(t){return t.endOf("week")}):this.mutate(function(t){return t.startOf("week").add(1,"week")})},t.prototype.isEndOfWeek=function(){return this.dayOfWeek===s.WEEKDAY_MAX},t.prototype.startOfMonth=function(){return this.mutate(function(t){return t.startOf("month")})},t.prototype.isStartOfMonth=function(){return this.dayOfMonth===s.DAY_MIN},t.prototype.endOfMonth=function(t){return void 0===t&&(t=!0),t?this.mutate(function(t){return t.endOf("month")}):this.mutate(function(t){return t.startOf("month").add(1,"month")})},t.prototype.isEndOfMonth=function(){return this.dayOfMonth===this.daysInMonth()},t.prototype.startOfYear=function(){return this.mutate(function(t){return t.startOf("year")})},t.prototype.isStartOfYear=function(){return this.month===s.MONTH_MIN&&this.dayOfMonth===s.DAY_MIN},t.prototype.endOfYear=function(t){return void 0===t&&(t=!0),t?this.mutate(function(t){return t.endOf("year")}):this.mutate(function(t){return t.startOf("year").add(1,"year")})},t.prototype.isEndOfYear=function(){return this.month===s.MONTH_MAX&&this.dayOfMonth===s.DAY_MAX},t.prototype.daysInMonth=function(){return this.date.daysInMonth()},t.prototype.daysInYear=function(){return this.endOfYear().dayOfYear},t.prototype.weeksInYear=function(){return this.date.weeksInYear()},t.prototype.format=function(t){return this.date.format(t)},t.prototype.utc=function(t){return this.mutate(function(e){return e.utc(t)})},t.prototype.toMoment=function(){return this.date.clone()},t.prototype.toDate=function(){return this.date.toDate()},t.prototype.toArray=function(){return this.date.toArray()},t.prototype.toJSON=function(){return this.date.toJSON()},t.prototype.toISOString=function(t){return void 0===t&&(t=!1),this.date.toISOString(t)},t.prototype.toObject=function(){return this.date.toObject()},t.prototype.toString=function(){return this.date.toString()},t.prototype.isDST=function(){return this.date.isDST()},t.prototype.isLeapYear=function(){return this.date.isLeapYear()},t.now=function(){return new t(l())},t.today=function(){return this.now().start()},t.tomorrow=function(){return this.today().next()},t.fromMoment=function(e){return e&&e.isValid()?new t(e):null},t.unix=function(t){return this.fromMoment(l(t))},t.parse=function(t){return p.day(t)},t.fromString=function(t){return this.fromMoment(l(t))},t.fromFormat=function(t,e){return this.fromMoment(l(t,e))},t.fromObject=function(t){return this.fromMoment(l(t))},t.fromDate=function(t){return this.fromMoment(l(t))},t.fromArray=function(t){return this.fromMoment(l(t))},t.fromDayIdentifier=function(t){var e=t%100,n=Math.floor(t/100)%100-1,r=Math.floor(t/1e4);return this.build(r,n,e)},t.build=function(e,n,r,i,o,u,a){return void 0===r&&(r=s.DAY_MIN),void 0===i&&(i=s.HOUR_MIN),void 0===o&&(o=s.MINUTE_MIN),void 0===u&&(u=s.SECOND_MIN),void 0===a&&(a=s.MILLIS_MIN),new t(l({year:e,month:n,date:r,hour:i,minute:o,second:u,millisecond:a}))},t.getWeekspanOfYear=function(t){return Math.floor((t.dayOfYear()-1)/s.DAYS_IN_WEEK)},t.getWeekOfYear=function(t){var e=t.clone().startOf("year"),n=t.week();return e.day()>s.WEEK_OF_MONTH_MINIMUM_WEEKDAY?n-1:n},t.getFullWeekOfYear=function(t){var e=t.clone().startOf("year"),n=t.week();return e.day()===s.WEEKDAY_MIN?n:n-1},t.getWeekspanOfMonth=function(t){return Math.floor((t.date()-1)/s.DAYS_IN_WEEK)},t.getFullWeekOfMonth=function(t){return Math.floor((t.date()-1-t.day()+s.DAYS_IN_WEEK)/s.DAYS_IN_WEEK)},t.getWeekOfMonth=function(t){var e=t.date(),n=t.day(),r=e-n;return Math.floor((r+s.WEEK_OF_MONTH_MINIMUM_WEEKDAY+5)/s.DAYS_IN_WEEK)},t.getWeekIdentifier=function(t){return t.week()+100*t.year()},t.getMonthIdentifier=function(t){return t.month()+1+100*t.year()},t.getDayIdentifier=function(t){return t.date()+100*(t.month()+1)+1e4*t.year()},t.getQuarterIdentifier=function(t){return t.quarter()+10*t.year()},t.LOAD_TIME=t.now(),t}()),m=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentDay=!1,e.currentWeek=!1,e.currentMonth=!1,e.currentYear=!1,e.currentOffset=0,e.selectedDay=!1,e.selectedWeek=!1,e.selectedMonth=!1,e.selectedYear=!1,e.inCalendar=!1,e.events=[],e}return m(e,t),e.prototype.updateCurrent=function(t){return this.currentDay=this.sameDay(t),this.currentWeek=this.sameWeek(t),this.currentMonth=this.sameMonth(t),this.currentYear=this.sameYear(t),this.currentOffset=this.daysBetween(t,i.DOWN,!1),this},e.prototype.updateSelected=function(t){return this.selectedDay=t.matchesDay(this),this.selectedWeek=t.matchesWeek(this),this.selectedMonth=t.matchesMonth(this),this.selectedYear=t.matchesYear(this),this},e.prototype.clearSelected=function(){return this.selectedDay=this.selectedWeek=this.selectedMonth=this.selectedYear=!1,this},e}(y),v=function(){function t(t,e,n,r,i){this.event=e,this.schedule=n,this.time=r,this.fullDay=r.isPoint,this.starting=r.start.sameDay(i)}return Object.defineProperty(t.prototype,"scheduleId",{get:function(){return Math.floor(this.id/s.MAX_EVENTS_PER_DAY)},enumerable:!0,configurable:!0}),t}(),M=function(){function t(t,e,n,r,i,s,u){this.fill=!1,this.minimumSize=0,this.repeatCovers=!0,this.listTimes=!1,this.eventsOutside=!1,this.selection=null,this.days=[],this.schedules=[],this.span=new h(t,e),this.filled=new h(t,e),this.type=n,this.size=r,this.moveStart=i,this.moveEnd=s,o.isDefined(u)&&this.withInput(u,!1),this.refresh()}return t.prototype.withInput=function(t,e){return void 0===e&&(e=!0),this.fill=o.coalesce(t.fill,this.fill),this.minimumSize=o.coalesce(t.minimumSize,this.minimumSize),this.repeatCovers=o.coalesce(t.repeatCovers,this.repeatCovers),this.listTimes=o.coalesce(t.listTimes,this.listTimes),this.eventsOutside=o.coalesce(t.eventsOutside,this.eventsOutside),o.isArray(t.schedules)&&(this.removeSchedules(),this.addSchedules(t.schedules,!1,!e)),e&&this.refresh(),this},t.prototype.withMinimumSize=function(t){return this.minimumSize=t,this.refresh(),this},t.prototype.withRepeatCovers=function(t){return this.repeatCovers=t,this.refreshEvents(),this},t.prototype.withListTimes=function(t){return this.listTimes=t,this.refreshEvents(),this},t.prototype.withEventsOutside=function(t){return this.eventsOutside=t,this.refreshEvents(),this},Object.defineProperty(t.prototype,"start",{get:function(){return this.span.start},set:function(t){this.span.start=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.span.end},set:function(t){this.span.end=t},enumerable:!0,configurable:!0}),t.prototype.summary=function(t,e,n,r,i){return void 0===t&&(t=!0),void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=" - "),this.span.summary(this.type,t,e,n,r,i)},t.prototype.split=function(e){void 0===e&&(e=1);for(var n=[],r=this.start,i=this.moveEnd(this.end,e-this.size),o=0;o<this.size;o++)n.push(new t(r,i,this.type,e,this.moveStart,this.moveEnd,this)),r=this.moveStart(r,e),i=this.moveEnd(i,e);return n},t.prototype.refresh=function(t){return void 0===t&&(t=y.today()),this.length=this.span.days(i.UP,!0),this.resetDays(),this.refreshCurrent(t),this.refreshSelection(),this.refreshEvents(),this},t.prototype.resetFilled=function(){return this.filled.start=this.fill?this.start.startOfWeek():this.start,this.filled.end=this.fill?this.end.endOfWeek():this.end,this},t.prototype.resetDays=function(){this.resetFilled();for(var t=this.days,e=this.filled,n=e.start,r=e.days(i.UP),o=Math.max(this.minimumSize,r),s=0;s<o;s++){var u=t[s];u&&u.sameDay(n)||(u=new O(n.date),s<t.length?t.splice(s,1,u):t.push(u)),u.inCalendar=this.span.contains(u),n=n.next()}return t.length>o&&t.splice(o,o-t.length),this},t.prototype.refreshCurrent=function(t){return void 0===t&&(t=y.today()),this.iterateDays(function(e){e.updateCurrent(t)})},t.prototype.refreshSelection=function(){var t=this;return this.iterateDays(function(e){t.selection?e.updateSelected(t.selection):e.clearSelected()})},t.prototype.refreshEvents=function(){var t=this;return this.iterateDays(function(e){(e.inCalendar||t.eventsOutside)&&(e.events=t.eventsForDay(e,t.listTimes,t.repeatCovers))})},t.prototype.iterateDays=function(t){for(var e=this.days,n=0;n<e.length;n++)t(e[n]);return this},t.prototype.eventsForDay=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0);for(var r=[],i=this.schedules,o=0;o<i.length;o++){var u=i[o],a=u.schedule,h=u.event,f=o*s.MAX_EVENTS_PER_DAY;if(n&&a.coversDay(t)||!n&&a.matchesDay(t))if(e)for(var d=n?u.schedule.getSpansOver(t):u.schedule.getSpansOn(t),c=0;c<d.length;c++)r.push(new v(f+c,h,a,d[c],t));else{var p=u.schedule.getSpanOver(t);p&&r.push(new v(f,h,a,p,t))}}return r},t.prototype.findSchedule=function(t){for(var e=0,n=this.schedules;e<n.length;e++){var r=n[e];if(r===t||r.schedule===t||r.event===t)return r}return null},t.prototype.removeSchedules=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=!1),t)for(var n=0,r=t;n<r.length;n++){var i=r[n];this.removeSchedule(i,!0)}else this.schedules=[];return e||this.refreshEvents(),this},t.prototype.removeSchedule=function(t,e){void 0===e&&(e=!1);var n=this.findSchedule(t);return n&&(this.schedules.splice(this.schedules.indexOf(n),1),e||this.refreshEvents()),this},t.prototype.addSchedule=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=p.calendarSchedule(t);if(!e){if(this.findSchedule(r))return this}return this.schedules.push(r),n||this.refreshEvents(),this},t.prototype.addSchedules=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);for(var r=0,i=t;r<i.length;r++){var o=i[r];this.addSchedule(o,e,!0)}return n||this.refreshEvents(),this},t.prototype.select=function(t,e){return this.selection=e?new h(t,e):h.point(t),this.refreshSelection(),this},t.prototype.unselect=function(){return this.selection=null,this.refreshSelection(),this},t.prototype.move=function(t){return void 0===t&&(t=this.size),this.start=this.moveStart(this.start,t),this.end=this.moveEnd(this.end,t),this.refresh(),this},t.prototype.next=function(t){return void 0===t&&(t=this.size),this.move(t)},t.prototype.prev=function(t){return void 0===t&&(t=this.size),this.move(-t)},t.days=function(e,n,r,i){void 0===e&&(e=1),void 0===n&&(n=y.today()),void 0===r&&(r=.4999);var o=n.start().relativeDays(-Math.floor(e*r)),s=o.relativeDays(e-1).end(),a=function(t,e){return t.relativeDays(e)};return new t(o,s,u.DAY,e,a,a,i)},t.weeks=function(e,n,r,i){void 0===e&&(e=1),void 0===n&&(n=y.today()),void 0===r&&(r=.4999);var o=n.start().startOfWeek().relativeWeeks(-Math.floor(e*r)),s=o.relativeWeeks(e-1).endOfWeek(),a=function(t,e){return t.relativeWeeks(e)};return new t(o,s,u.WEEK,e,a,a,i)},t.months=function(e,n,r,i){void 0===e&&(e=1),void 0===n&&(n=y.today()),void 0===r&&(r=.4999),void 0===i&&(i={fill:!0});var o=n.start().startOfMonth().relativeMonths(-Math.floor(e*r)),s=o.relativeMonths(e-1).endOfMonth(),a=function(t,e){return t.relativeMonths(e)},h=function(t,e){return t.startOfMonth().relativeMonths(e).endOfMonth()};return new t(o,s,u.MONTH,e,a,h,i)},t.years=function(e,n,r,i){void 0===e&&(e=1),void 0===n&&(n=y.today()),void 0===r&&(r=.4999),void 0===i&&(i={fill:!0});var o=n.start().startOfMonth().relativeMonths(-Math.floor(e*r)),s=o.relativeMonths(e-1).endOfYear(),a=function(t,e){return t.relativeYears(e)};return new t(o,s,u.YEAR,e,a,a,i)},t}(),I=function(){function t(){}return t.JANUARY=0,t.FEBRUARY=1,t.MARCH=2,t.APRIL=3,t.MAY=4,t.JUNE=5,t.JULY=6,t.AUGUST=7,t.SEPTEMBER=8,t.OCTOBER=9,t.NOVEMBER=10,t.DECEMBER=11,t}(),N=function(){function t(){}return Object.defineProperty(t,"CACHE",{get:function(){if(!this._CACHE){this._CACHE=[];for(var t=0;t<this._CACHE_SIZE;t++)this._CACHE[t]=this.determine(t)}return this._CACHE},enumerable:!0,configurable:!0}),t.determine=function(t){return t>=11&&t<=13?"th":this.MAP[t%this.MAP.length]},t.get=function(t,e){void 0===e&&(e=!1);var n=this.determine(t);return e?t+n:n},t.MAP=["th","st","nd","rd","th","th","th","th","th","th"],t._CACHE_SIZE=366,t}(),D=function(){function t(){}return t.SUNDAY=0,t.MONDAY=1,t.TUESDAY=2,t.WEDNESDAY=3,t.THURSDAY=4,t.FRIDAY=5,t.SATURDAY=6,t}();n.d(e,"CalendarDay",function(){return O}),n.d(e,"CalendarEvent",function(){return v}),n.d(e,"Calendar",function(){return M}),n.d(e,"Constants",function(){return s}),n.d(e,"Day",function(){return y}),n.d(e,"DaySpan",function(){return h}),n.d(e,"Functions",function(){return o}),n.d(e,"Month",function(){return I}),n.d(e,"Op",function(){return i}),n.d(e,"operate",function(){return r}),n.d(e,"Parse",function(){return p}),n.d(e,"Schedule",function(){return d}),n.d(e,"Suffix",function(){return N}),n.d(e,"Time",function(){return c}),n.d(e,"Units",function(){return u}),n.d(e,"Weekday",function(){return D})}])});
//# sourceMappingURL=dayspan.min.js.map